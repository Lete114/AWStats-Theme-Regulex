var requirejs,require,define;(function(l){function p(t,e){return r.call(t,e)}function s(t,e){var r,n,i,a,s,o,c,h,u,l,p=e&&e.split("/"),f=y.map,d=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(p=p.slice(0,p.length-1),e=(t=t.split("/")).length-1,y.nodeIdCompat&&v.test(t[e])&&(t[e]=t[e].replace(v,"")),t=p.concat(t),h=0;h<t.length;h+=1)if("."===(l=t[h]))t.splice(h,1),--h;else if(".."===l){if(1===h&&(".."===t[2]||".."===t[0]))break;0<h&&(t.splice(h-1,2),h-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||d)&&f){for(h=(r=t.split("/")).length;0<h;--h){if(n=r.slice(0,h).join("/"),p)for(u=p.length;0<u;--u)if((i=f[p.slice(0,u).join("/")])&&(i=i[n])){a=i,s=h;break}if(a)break;!o&&d&&d[n]&&(o=d[n],c=h)}!a&&o&&(a=o,s=c),a&&(r.splice(0,s,a),t=r.join("/"))}return t}function f(e,r){return function(){var t=n.call(arguments,0);return"string"!=typeof t[0]&&1===t.length&&t.push(null),a.apply(l,t.concat([e,r]))}}function d(t){var e;if(p(x,t)&&(e=x[t],delete x[t],m[t]=!0,c.apply(l,e)),!p(g,t)&&!p(m,t))throw new Error("No "+t);return g[t]}function o(t){var e,r=t?t.indexOf("!"):-1;return-1<r&&(e=t.substring(0,r),t=t.substring(r+1,t.length)),[e,t]}var a,g={},x={},y={},m={},r=Object.prototype.hasOwnProperty,n=[].slice,v=/\.js$/,b=function(t,e){var r,n,i=o(t),a=i[0];return t=i[1],a&&(r=d(a=s(a,e))),a?t=r&&r.normalize?r.normalize(t,(n=e,function(t){return s(t,n)})):s(t,e):(a=(i=o(t=s(t,e)))[0],t=i[1],a&&(r=d(a))),{f:a?a+"!"+t:t,n:t,pr:a,p:r}},_={require:function(t){return f(t)},exports:function(t){var e=g[t];return void 0!==e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:(e=t,function(){return y&&y.config&&y.config[e]||{}})};var e}},c=function(t,e,r,n){var i,a,s,o,c,h=[],u=typeof r;if(n=n||t,"undefined"==u||"function"==u){for(e=!e.length&&r.length?["require","exports","module"]:e,o=0;o<e.length;o+=1)if("require"===(a=(s=b(e[o],n)).f))h[o]=_.require(t);else if("exports"===a)h[o]=_.exports(t),c=!0;else if("module"===a)i=h[o]=_.module(t);else if(p(g,a)||p(x,a)||p(m,a))h[o]=d(a);else{if(!s.p)throw new Error(t+" missing "+a);s.p.load(s.n,f(n,!0),function(e){return function(t){g[e]=t}}(a),{}),h[o]=g[a]}u=r?r.apply(g[t],h):void 0,t&&(i&&i.exports!==l&&i.exports!==g[t]?g[t]=i.exports:u===l&&c||(g[t]=u))}else t&&(g[t]=r)};requirejs=require=a=function(t,e,r,n,i){if("string"==typeof t)return _[t]?_[t](e):d(b(t,e).f);if(!t.splice){if((y=t).deps&&a(y.deps,y.callback),!e)return;e.splice?(t=e,e=r,r=null):t=l}return e=e||function(){},"function"==typeof r&&(r=n,n=i),n?c(l,t,e,r):setTimeout(function(){c(l,t,e,r)},4),a},a.config=function(t){return a(t)},requirejs._defined=g,(define=function(t,e,r){e.splice||(r=e,e=[]),p(g,t)||p(x,t)||(x[t]=[t,e,r])}).amd={jQuery:!0}})(),define("libs/almond",function(){}),(define="function"!=typeof define?require("amdefine")(module):define)("Kit",[],function(){function c(t,e){return t<e?u:t===e?l:p}function r(t,e,r){var n,i,a=0,s=t.length,o=s-1;if(s<1)return-1;if(r=r||c,1===s)return r(e,t[a])===l?a:-1;if(r(e,t[a])===u||r(e,t[o])===p)return-1;do{if((i=r(e,t[n=a+(o-a+1>>1)]))===l)return n}while(i===u?o=n-1:a=n+1,a<=o);return-1}function y(t){var e=t.length;if(e<=1)return t;for(var r,n=1,i=e/3|0;n<i;)n=3*n+1;for(;0<n;){for(s=n;s<e;s++)for(o=s;n<=o&&t[o]<t[o-n];o-=n)r=t[o],t[o]=t[o-n],t[o-n]=r;n=n/3|0}for(var a=t[0],s=1,o=1;s<e;s++)t[s]!==a&&(a=t[o++]=t[s]);return t.length=o,t.length===o?t:h(t,o)}function h(t,e){e=void 0===e?t.length:e;for(var r=new t.constructor(e),n=e;n--;)r[n]=t[n];return r}function i(t){for(var e,r,n,i,a,s,o=(t=y(t=t.map(function(t){return t[1]?t:t+t}))).length,c=Object.create(null),h=Object.create(null),u=Object.create(null),l=0;l<o;l++)for(s=(i=t[l])[1],h[i[0]]=!0,u[s]=!0,e=l;e<o;e++)if((a=t[e][0])>=s){a===s&&(c[s]=!0);break}var p=y(t.join("").split("")),f=Object.keys(c),d=p[0],g=Object.create(null),x=Object.create(null);for(l=0;l<o;l++)g[t[l]]=[];if(c[d])for(l=0;l<o;l++)if((i=t[l])[0]===d)g[i].push(d);else if(i[0]>d)break;for(l=0,n=p.length-1;l<n;l++){if(a=p[l],s=p[l+1],(a=u[a]?v(a):a)<=(s=h[s]?m(s):s))for(d=a===s?a:a+s,e=0;e<o&&!((i=t[e])[0]>s);e++)i[0]<=a&&s<=i[1]&&(g[i].push(d),f.push(d));if(a=p[l],c[s=p[l+1]])for(e=0;e<o&&!((i=t[e])[0]>s);e++)i[0]<=s&&s<=i[1]&&g[i].push(s)}for(r in f=y(f),g)x[r[0]===r[1]?r[0]:r]=g[r];return{ranges:f,map:x}}function a(t){var e=String.fromCharCode(65535);t=i(t).ranges;var n=[];if(!t.length)return n;"\0"!==t[0][0]&&t.unshift(e);var r=t.length-1;return(t[r][1]||t[r][0])!==e&&t.push("\0"),t.reduce(function(t,e){var r=v(t[1]||t[0]),t=m(e[0]);return r<t&&n.push(r+t),r===t&&n.push(r),e}),n}function s(t){return t.charCodeAt(0)}function m(t){return String.fromCharCode(t.charCodeAt(0)-1)}function v(t){return String.fromCharCode(t.charCodeAt(0)+1)}var n=Array.prototype.slice,o=function(){return"[object Window]"===this.toString()}(),u=-1,l=0,p=1,f={"\n":"\\n","\t":"\\t","\f":"\\f","\r":"\\r"," ":" ","\\":"\\\\","\0":"\\0"};return{sortUnique:y,idUnique:function(t){for(var e,r,n=t.length,i=(1e10*Math.random()).toString(32)+(+new Date).toString(32),a=e=0;a<n;a++)null!=(r=t[a])&&(r.hasOwnProperty(i)||(Object.defineProperty(r,i,{value:1,enumerable:!1}),t[e++]=r));for(a=e;a--;)t[a][i]=void 0;return t.length=e,t},hashUnique:function(t){for(var e,r={},n=0,i=0,a=t.length;n<a;n++)e=t[n],r.hasOwnProperty(e)||(r[e]=1,t[i++]=e);return t.length=i,t},Set:function s(o,t){return o._Set||((o=t?o:y(o)).contains=function(t,e){return!!~r(o,t,e)},o.indexOf=function(t,e){return r(o,t,e)},o.toArray=function(){return h(o)},o.union=function(t){t=s(t);for(var e=o.length+t.length,r=new o.constructor(e),n=0,i=0,a=0;a<e;a++)o[n]===t[i]?(r[a]=o[n++],i++,e--):o[n]<t[i]?r[a]=o[n++]:r[a]=t[i++];return r.length=e,s(r.length===e?r:h(r,e),!0)},o.inspect=o.toArray,o._Set=!0),o},repeats:function(t,e){return new Array(e+1).join(t)},negate:a,coalesce:function(t){if(!t.length)return[];var n=[t[0]];return t.reduce(function(t,e){var r=n.length-1;return t[t.length-1]===m(e[0])?n[r]=n[r][0]+e[e.length-1]:(n.push(e),e)}),n.reduce(function(t,e){return 2===e.length&&e[0]===m(e[1])?(t.push(e[0]),t.push(e[1])):t.push(e),t},[])},classify:i,parseCharset:function(t){t=t.split("");var e=[],r=[],n="^"===t[0]&&1<t.length&&t.shift();return t.forEach(function(t){if("-"==e[0]&&1<e.length){if(e[1]>t)throw new Error("Charset range out of order:"+e[1]+"-"+t+"!");r.push(e[1]+t),e.splice(0,2)}else e.unshift(t)}),r=r.concat(e),n?a(r):i(r).ranges},chr:function(t){return String.fromCharCode(t)},ord:s,pred:m,succ:v,toPrint:function(t,e){var r=/[\x00-\x1F\x7F-\x9F]/,n=/[\u009F-\uFFFF]/;return t.split("").map(function(t){return!e&&f.hasOwnProperty(t)?f[t]:n.test(t)?"\\u"+("00"+s(t).toString(16).toUpperCase()).slice(-4):r.test(t)?"\\x"+("0"+s(t).toString(16).toUpperCase()).slice(-2):t}).join("")},flatten2:function(t){return[].concat.apply([],t)},log:function(){var e,t=n.call(arguments);o?Function.prototype.apply.apply(console.log,[console,t]):(e=require("util"),t.forEach(function(t){console.log(e.inspect(t,{showHidden:!1,customInspect:!0,depth:64,colors:!0}))}))},isBrowser:o,locals:function(t){for(var e,r=t.toString(),n=/^\s+function\s+([a-zA-Z]\w+)\s*\(/gm,i=[];e=n.exec(r);)i.push(e[1]);for(var a=[];t=i.pop();)a.push(t+":"+t);return"{\n"+a.join(",\n")+"\n}"}}}),(define="function"!=typeof define?require("amdefine")(module):define)("NFA",["./Kit"],function(_){function s(t){return this.accepts.hasOwnProperty(t)}function c(){for(var t,e=this.router,r=Object.keys(e),n=0,i=r.length;n<i;n++){if(1<(t=e[r[n]]).eMove.length)throw new Error("DFA Assertion Fail!\nFrom state `"+r[n]+"` can goto to multi ε-move states!");for(var a=t.charMove,s=Object.keys(a),o=0,c=s.length;o<c;o++)if(1!==a[s[o]].length)throw _.log(a),new Error("DFA Assertion Fail!\nFrom state `"+r[n]+"` via charset `"+s[o]+"` can goto to multi states!");if(s.length&&t.eMove.length)throw new Error("DFA Assertion Fail!\nFrom state `"+r[n]+"` can goto extra ε-move state!")}return!0}function h(t,e,v){var b=this;return function t(e,r,n,i,a){t:for(;;){var s,o,c,h=b.router[n];if(!h)break;for(var u,l,p=h.eMove,f=h.charMove,d=r<e.length?(s=e[r],f.hasOwnProperty(s)?f[s]:(h=function(t,e){return!!~(e=t.indexOf(e,w))&&t[e]}(h.ranges,s))?f[h]:p):p,g=i.length,x=a,y=0,m=d.length;y<m;y++){if(o=(l=d[y]).eMove?0:1,a=x,i.splice(0,i.length-g),g=i.length,l.assert){if(!1===(u=l.assert(i,s,r,n,e)))continue;"number"==typeof u&&(r+=u,a+=u)}if(l.action&&(i=l.action(i,s,r,n,e)||i),a=l.eMove?a:r,v&&_.log(s+":"+n+">"+l.to),y===m-1){r+=o,n=l.to;continue t}if((l=t(e,r+o,l.to,i,a)).acceptable)return l;c=l}if(c)return c;break}return{stack:i,lastIndex:a,lastState:n,acceptable:b.accept(n)}}(t,e=e||0,"start",[],e-1)}function w(t,e){var r=e[0];return t>e[1]?1:t<r?-1:0}return function(t){var e,r={},i=(t=t.compact?function(t){t.accepts=t.accepts.split(",");for(var e,r,n,i=t.trans,a=i.length;a--;)e=i[a],n=e[0].split(">"),r=n[0].split(","),n=n[1].split(","),i[a]={from:r,to:n,charset:e[1],action:e[2],assert:e[3]};return t.compact=!1,t}(t):t).trans,o={},a=0;for(n=t.accepts.length;a<n;a++)r[t.accepts[a]]=!0;for(a=0,n=i.length;a<n;a++)(e=i[a]).charset?e.ranges="string"==typeof e.charset?_.parseCharset(e.charset):e.charset:e.eMove=!0,e.from.forEach(function(t){t=o[t]=o[t]||{eMoveStates:[],eMove:[],charMove:{},trans:[],ranges:[]};e.eMove?t.eMoveStates=t.eMoveStates.concat(e.to):t.ranges=t.ranges.concat(e.ranges),t.trans.push(e)});return Object.keys(o).forEach(function(t){var e=o[t],i=e.trans,a=e.charMove,r=e.eMove,n=e.ranges,t=_.classify(n),s=t.map;i.forEach(function(e){e.eMove?e.to.forEach(function(t){r.push({to:t,action:e.action,assert:e.assert,eMove:!0})}):_.flatten2(e.ranges.map(function(t){return s[t]})).forEach(function(t){(a[t]=a[t]||[]).push(e)})}),n=_.Set(t.ranges.filter(function(t){return!!t[1]})),e.ranges=n,Object.keys(a).forEach(function(t){var r=a[t],n=[];i.forEach(function(e){e.to.forEach(function(t){(e.eMove||~r.indexOf(e))&&n.push({to:t,action:e.action,assert:e.assert,eMove:e.eMove})})}),a[t]=n}),delete e.trans,delete e.eMoveStates}),{accepts:r,router:o,input:h,assertDFA:c,accept:s}}}),(define="function"!=typeof define?require("amdefine")(module):define)("parse",["./NFA","./Kit"],function(t,e){function r(){var t=Object.keys(a).map(function(t){return t+"="+JSON.stringify(a[t])}).join(";");!function(){return this}().eval(t)}function s(t){this.raw=t.raw,this.tree=t.tree,this.groupCount=t.groupCount}function n(t,e){d=e;var r=o().input(t,0,e);a=r.stack,a=x.endChoice(a);var n,i=r.lastState,e=r.acceptable&&r.lastIndex===t.length-1;if(!e){switch(i){case"charsetRangeEndWithNullChar":n={type:"CharsetRangeEndWithNullChar",message:"Charset range end with NUL char does not make sense!\nBecause [a-\\0] is not a valid range.\nAnd [\\0-\\0] should be rewritten into [\\0]."};break;case"repeatErrorFinal":n={type:"NothingRepeat",message:"Nothing to repeat!"};break;case"digitFollowNullError":n={type:"DigitFollowNullError",message:"The '\\0' represents the <NUL> char and cannot be followed by a decimal digit!"};break;case"charsetRangeEndClass":n={type:"CharsetRangeEndClass",message:'Charset range ends with class such as "\\w\\W\\d\\D\\s\\S" is invalid!'};break;case"charsetOctEscape":n={type:"DecimalEscape",message:"Decimal escape appears in charset is invalid.Because it can't be explained as  backreference.And octal escape is deprecated!"};break;default:0===i.indexOf("charset")?n={type:"UnclosedCharset",message:"Unterminated character class!"}:")"===t[r.lastIndex]?n={type:"UnmatchedParen",message:"Unmatched end parenthesis!"}:(n={type:"UnexpectedChar",message:"Unexpected char!"},r.lastIndex++)}if(n)throw n.lastIndex=r.lastIndex,n.astStack=r.stack,n.lastState=i,new f(n)}if(a._parentGroup)throw new f({type:"UnterminatedGroup",message:"Unterminated group!",lastIndex:a._parentGroup.indices[0],lastState:i,astStack:a});if(e){e=a.groupCounter?a.groupCounter.i:0;delete a.groupCounter,function r(t,n,e){if(!t.length)return void t.push({type:EMPTY_NODE,indices:[e,e]});t.reduce(function(t,e){return e.indices.push(t),e.raw=n.slice(e.indices[0],t),e.type===GROUP_NODE||e.type===ASSERT_NODE&&e.sub?r(e.sub,n,e.endParenIndex):e.type===CHOICE_NODE?(e.branches.reduce(function(t,e){r(e,n,t);e=e[0];return(e?e.indices[0]:t)-1},t),e.branches.reverse()):e.type===EXACT_NODE&&(e.concatTemp||(e.chars=e.chars||e.raw)),e.indices[0]},e),t.reverse()}(a,t,t.length);var a,e=new s({raw:t,groupCount:e,tree:a=h(a)});return e.traverse(p,CHARSET_NODE),e.traverse(l,ASSERT_NODE),u(a),d=!1,e}}function o(){return i=i||t(w,d)}function c(t,e,r){Object.defineProperty(t,e,{value:r,enumerable:d,writable:!0,configurable:!0})}function h(t){return t.filter(function(t){return t.type==EXACT_NODE&&t.concatTemp?(delete t.concatTemp,!!t.chars):(t.sub?t.sub=h(t.sub):t.branches&&(t.branches=t.branches.map(h)),!0)})}function u(t){function e(t){t.sub?u(t.sub):t.branches&&t.branches.map(u)}var r=t[0];e(r);for(var n,i=1,a=1,s=t.length;i<s;i++){if((n=t[i]).type===EXACT_NODE){if(r.type===EXACT_NODE&&!r.repeat&&!n.repeat){r.indices[1]=n.indices[1],r.raw+=n.raw,r.chars+=n.chars;continue}}else e(n);r=t[a++]=n}r&&(t.length=a)}function l(t){if(t.repeat){var e=t.assertionType,r="Nothing to repeat! Repeat after assertion doesn't make sense!";throw"AssertLookahead"!==e&&"AssertNegativeLookahead"!==e||(r+="\n/a"+(e="("+("AssertLookahead"===e?"?=":"?!")+"b)")+"+/、/a"+e+"{1,n}/ are the same as /a"+e+"/。\n/a"+e+"*/、/a"+e+"{0,n}/、/a"+e+"?/ are the same as /a/。"),new f({type:"NothingRepeat",lastIndex:t.indices[1]-1,message:r})}}function p(t){t.ranges=e.sortUnique(t.ranges.map(function(t){if(t[0]>t[1])throw new f({type:"OutOfOrder",lastIndex:t.lastIndex,message:"Range ["+t.join("-")+"] out of order in character class!"});return t.join("")}))}function f(t){this.name="RegexSyntaxError",this.type=t.type,this.lastIndex=t.lastIndex,this.lastState=t.lastState,this.astStack=t.astStack,this.message=t.message,Object.defineProperty(this,"stack",{value:new Error(t.message).stack,enumerable:!1})}var d,i,a={EXACT_NODE:"exact",CHARSET_NODE:"charset",CHOICE_NODE:"choice",GROUP_NODE:"group",ASSERT_NODE:"assert",DOT_NODE:"dot",BACKREF_NODE:"backref",EMPTY_NODE:"empty",AssertLookahead:"AssertLookahead",AssertNegativeLookahead:"AssertNegativeLookahead",AssertNonWordBoundary:"AssertNonWordBoundary",AssertWordBoundary:"AssertWordBoundary",AssertEnd:"AssertEnd",AssertBegin:"AssertBegin"};r(),s.prototype.traverse=function(t,n){!function e(t,r){t.forEach(function(t){n&&t.type!==n||r(t),t.sub?e(t.sub,r):t.branches&&t.branches.forEach(function(t){e(t,r)})})}(this.tree,t)},n.Constants=a,n.exportConstants=r,n.RegexSyntaxError=f,n.getNFAParser=o,f.prototype.toString=function(){return this.name+" "+this.type+":"+this.message};var g={n:"\n",r:"\r",t:"\t",v:"\v",f:"\f"},x={escapeStart:function(t,e,r){t.unshift({concatTemp:!0,type:EXACT_NODE,chars:"",indices:[r]})},exact:function(t,e,r){var n=t[0];(!n||n.type!=EXACT_NODE||n.repeat||n.chars&&!n.concatTemp)&&t.unshift({type:EXACT_NODE,indices:[r]}),n&&n.concatTemp&&(n.chars+=e)},dot:function(t,e,r){t.unshift({type:DOT_NODE,indices:[r]})},nullChar:function(t,e,r){t.unshift({type:EXACT_NODE,chars:"\0",indices:[r-1]})},assertBegin:function(t,e,r){t.unshift({type:ASSERT_NODE,indices:[r],assertionType:AssertBegin})},assertEnd:function(t,e,r,n,i){t.unshift({type:ASSERT_NODE,indices:[r],assertionType:AssertEnd})},assertWordBoundary:function(t,e,r){t.unshift({type:ASSERT_NODE,indices:[r-1],assertionType:"b"==e?AssertWordBoundary:AssertNonWordBoundary})},repeatnStart:function(t,e,r){t[0].type!==EXACT_NODE&&t.unshift({type:EXACT_NODE,indices:[r]})},repeatnComma:function(t,e,r){c(t[0],"_commaIndex",r)},repeatNonGreedy:function(t){t[0].repeat.nonGreedy=!0},repeatnEnd:function(t,e,r,n,i){var a,s=t[0],o=i.lastIndexOf("{",r),c=parseInt(i.slice(o+1,s._commaIndex||r),10);if(s._commaIndex){if((a=s._commaIndex+1==r?1/0:parseInt(i.slice(s._commaIndex+1,r),10))<c)throw new f({type:"OutOfOrder",lastState:n,lastIndex:r,astStack:t,message:"Numbers out of order in {} quantifier!"});delete s._commaIndex}else a=c;s.indices[0]>=o&&t.shift(),E(t,c,a,o,i)},repeat1:function(t,e,r,n,i){E(t,1,1/0,r,i)},repeat01:function(t,e,r,n,i){E(t,0,1,r,i)},repeat0:function(t,e,r,n,i){E(t,0,1/0,r,i)},charClassEscape:C,normalEscape:function(t,e,r){g.hasOwnProperty(e)&&(e=g[e]),t.unshift({type:EXACT_NODE,chars:e,indices:[r-1]})},unicodeEscape:function(t,e,r,n,i){e=String.fromCharCode(parseInt(i.slice(r-3,r+1),16)),t.shift(),t.unshift({type:EXACT_NODE,chars:e,indices:[r-5]})},hexEscape:function(t,e,r,n,i){e=String.fromCharCode(parseInt(i[r-1]+e,16)),t.shift(),t.unshift({type:EXACT_NODE,chars:e,indices:[r-3]})},groupStart:function(t,e,r){var n=t.groupCounter=t.groupCounter||{i:0};return n.i++,r={type:GROUP_NODE,num:n.i,sub:[],indices:[r],_parentStack:t},c(t=r.sub,"_parentGroup",r),t.groupCounter=n,t},groupNonCapture:function(t){var e=t._parentGroup;e.nonCapture=!0,e.num=void 0,t.groupCounter.i--},backref:function(t,e,r,n){var i=t[0],a=parseInt(e,10),e=(e=t.groupCounter)&&e.i||0;if("escape"===n?(i={type:BACKREF_NODE,indices:[r-1]},t.unshift(i)):a=parseInt(i.num+""+a,10),e<a)throw new f({type:"InvalidBackReference",lastIndex:r,astStack:t,lastState:n,message:"Back reference number("+a+") greater than current groups count("+e+")."});if(function t(e,r){return!!r._parentGroup&&(r._parentGroup.num==e?e:t(e,r._parentGroup._parentStack))}(a,t))throw new f({type:"InvalidBackReference",lastIndex:r,astStack:t,lastState:n,message:"Recursive back reference in group ("+a+") itself."});i.num=a},groupToAssertion:function(t,e,r){var n=t._parentGroup;n.type=ASSERT_NODE,n.assertionType="="==e?AssertLookahead:AssertNegativeLookahead,n.num=void 0,t.groupCounter.i--},groupEnd:function(t,e,r,n,i){var a=(t=k(t))._parentGroup;if(!a)throw new f({type:"UnexpectedChar",lastIndex:r,lastState:n,astStack:t,message:"Unexpected end parenthesis!"});return delete t._parentGroup,delete t.groupCounter,t=a._parentStack,delete a._parentStack,t.unshift(a),a.endParenIndex=r,t},choice:function(t,e,r){var n,i,a=[];return t._parentChoice?((i=t._parentChoice).branches.unshift(a),c(a,"_parentChoice",i),c(a,"_parentGroup",i),a.groupCounter=t.groupCounter,delete t._parentChoice,delete t.groupCounter):(n=t[t.length-1],c(i={type:CHOICE_NODE,indices:[n?n.indices[0]:r-1],branches:[]},"_parentStack",t),i.branches.unshift(t.slice()),t.length=0,t.unshift(i),a.groupCounter=t.groupCounter,c(a,"_parentChoice",i),c(a,"_parentGroup",i),i.branches.unshift(a)),a},endChoice:k,charsetStart:function(t,e,r){t.unshift({type:CHARSET_NODE,indices:[r],classes:[],ranges:[],chars:""})},charsetExclude:function(t){t[0].exclude=!0},charsetContent:function(t,e,r){t[0].chars+=e},charsetNullChar:function(t,e,r){t[0].chars+="\0"},charsetClassEscape:function(t,e){t[0].classes.push(e)},charsetHexEscape:function(t,e,r,n,i){t=t[0],e=String.fromCharCode(parseInt(t.chars.slice(-1)+e,16)),t.chars=t.chars.slice(0,-2),t.chars+=e},charsetUnicodeEscape:function(t,e,r,n,i){t=t[0],e=String.fromCharCode(parseInt(t.chars.slice(-3)+e,16)),t.chars=t.chars.slice(0,-4),t.chars+=e},charsetRangeEnd:S,charsetNormalEscape:function(t,e,r){g.hasOwnProperty(e)&&(e=g[e]),t[0].chars+=e},charsetRangeEndNormalEscape:function(t,e){g.hasOwnProperty(e)&&(e=g[e]),S.apply(this,arguments)},charsetRangeEndUnicodeEscape:function(t,e,r){var n=t[0],i=n.chars.slice(-3)+e;n.chars=n.chars.slice(0,-3),t=n.ranges.pop(),e=String.fromCharCode(parseInt(i,16)),(t=[t[0],e]).lastIndex=r,n.ranges.push(t)},charsetRangeEndHexEscape:function(t,e,r){var n=t[0],i=n.chars.slice(-1)+e;n.chars=n.chars.slice(0,-1),t=n.ranges.pop(),e=String.fromCharCode(parseInt(i,16)),(t=[t[0],e]).lastIndex=r,n.ranges.push(t)}},y="0-9a-fA-F",m="repeatnStart,repeatn_1,repeatn_2,repeatnErrorStart,repeatnError_1,repeatnError_2",v="hexEscape1,hexEscape2",b="unicodeEscape1,unicodeEscape2,unicodeEscape3,unicodeEscape4",_="charsetUnicodeEscape1,charsetUnicodeEscape2,charsetUnicodeEscape3,charsetUnicodeEscape4,charsetHexEscape1,charsetHexEscape2",w={compact:!0,accepts:"start,begin,end,repeat0,repeat1,exact,repeatn,repeat01,repeatNonGreedy,choice,"+m+",nullChar,digitBackref,"+b+","+v,trans:[["start,begin,end,exact,repeatNonGreedy,repeat0,repeat1,repeat01,groupStart,groupQualifiedStart,choice,repeatn>exact","^+*?^$.|(){[\\",x.exact],["hexEscape1,hexEscape2,unicodeEscape1,unicodeEscape2,unicodeEscape3,unicodeEscape4>exact","^+*?^$.|(){[\\0-9a-fA-F",x.exact],["nullChar>exact","^+*?^$.|(){[\\0-9",x.exact],[m+",nullChar,digitBackref,"+b+","+v+",start,begin,end,exact,repeatNonGreedy,repeat0,repeat1,repeat01,groupStart,groupQualifiedStart,choice,repeatn>exact",".",x.dot],["start,groupStart,groupQualifiedStart,end,begin,exact,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,choice,"+m+",nullChar,digitBackref,"+b+","+v+">begin","^",x.assertBegin],[m+",nullChar,digitBackref,"+b+","+v+",exact>repeatnStart","{",x.repeatnStart],["start,begin,end,groupQualifiedStart,groupStart,repeat0,repeat1,repeatn,repeat01,repeatNonGreedy,choice>repeatnErrorStart","{",x.exact],["repeatnStart>repeatn_1","0-9",x.exact],["repeatn_1>repeatn_1","0-9",x.exact],["repeatn_1>repeatn_2",",",x.repeatnComma],["repeatn_2>repeatn_2","0-9",x.exact],["repeatn_1,repeatn_2>repeatn","}",x.repeatnEnd],["repeatnStart,repeatnErrorStart>exact","}",x.exact],["repeatnStart,repeatnErrorStart>exact","^+*?^$.|(){[\\0-9}",x.exact],["repeatnErrorStart>repeatnError_1","0-9",x.exact],["repeatnError_1>repeatnError_1","0-9",x.exact],["repeatnError_1>repeatnError_2",",",x.exact],["repeatnError_2>repeatnError_2","0-9",x.exact],["repeatnError_2,repeatnError_1>repeatErrorFinal","}"],["repeatn_1,repeatnError_1>exact","^+*?^$.|(){[\\0-9,}",x.exact],["repeatn_2,repeatnError_2>exact","^+*?^$.|(){[\\0-9}",x.exact],["exact,"+m+",nullChar,digitBackref,"+b+","+v+">repeat0","*",x.repeat0],["exact,"+m+",nullChar,digitBackref,"+b+","+v+">repeat1","+",x.repeat1],["exact,"+m+",nullChar,digitBackref,"+b+","+v+">repeat01","?",x.repeat01],["choice>repeatErrorFinal","*+?"],["repeat0,repeat1,repeat01,repeatn>repeatNonGreedy","?",x.repeatNonGreedy],["repeat0,repeat1,repeat01,repeatn>repeatErrorFinal","+*"],["start,begin,end,groupStart,groupQualifiedStart,exact,repeatNonGreedy,repeat0,repeat1,repeat01,repeatn,choice,"+m+",nullChar,digitBackref,"+b+","+v+">escape","\\",x.escapeStart],["escape>nullChar","0",x.nullChar],["nullChar>digitFollowNullError","0-9"],["escape>exact","^dDwWsSux0-9bB1-9",x.normalEscape],["escape>exact","bB",x.assertWordBoundary],["escape>exact","dDwWsS",x.charClassEscape],["escape>unicodeEscape1","u",x.exact],["unicodeEscape1>unicodeEscape2",y,x.exact],["unicodeEscape2>unicodeEscape3",y,x.exact],["unicodeEscape3>unicodeEscape4",y,x.exact],["unicodeEscape4>exact",y,x.unicodeEscape],["escape>hexEscape1","x",x.exact],["hexEscape1>hexEscape2",y,x.exact],["hexEscape2>exact",y,x.hexEscape],["escape>digitBackref","1-9",x.backref],["digitBackref>digitBackref","0-9",x.backref],["digitBackref>exact","^+*?^$.|(){[\\0-9",x.exact],["exact,begin,end,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,start,groupStart,groupQualifiedStart,choice,"+m+",nullChar,digitBackref,"+b+","+v+">groupStart","(",x.groupStart],["groupStart>groupQualify","?"],["groupQualify>groupQualifiedStart",":",x.groupNonCapture],["groupQualify>groupQualifiedStart","=",x.groupToAssertion],["groupQualify>groupQualifiedStart","!",x.groupToAssertion],[m+",nullChar,digitBackref,"+b+","+v+",groupStart,groupQualifiedStart,begin,end,exact,repeat1,repeat0,repeat01,repeatn,repeatNonGreedy,choice>exact",")",x.groupEnd],["start,begin,end,groupStart,groupQualifiedStart,exact,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,choice,"+m+",nullChar,digitBackref,"+b+","+v+">choice","|",x.choice],["start,groupStart,groupQualifiedStart,begin,exact,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,choice,"+m+",nullChar,digitBackref,"+b+","+v+">end","$",x.assertEnd],["exact,begin,end,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,groupQualifiedStart,groupStart,start,choice,"+m+",nullChar,digitBackref,"+b+","+v+">charsetStart","[",x.charsetStart],["charsetStart>charsetExclude","^",x.charsetExclude],["charsetStart>charsetContent","^\\]^",x.charsetContent],["charsetExclude>charsetContent","^\\]",x.charsetContent],["charsetContent,charsetClass>charsetContent","^\\]-",x.charsetContent],["charsetClass>charsetContent","-",x.charsetContent],[_+",charsetStart,charsetContent,charsetNullChar,charsetClass,charsetExclude,charsetRangeEnd>charsetEscape","\\"],["charsetEscape>charsetContent","^dDwWsSux0-9",x.charsetNormalEscape],["charsetEscape>charsetNullChar","0",x.charsetNullChar],["charsetEscape>charsetOctEscape","1-9"],["charsetRangeEndEscape>charsetOctEscape","1-9"],["charsetNullChar>digitFollowNullError","0-9"],["charsetNullChar>charsetContent","^0-9\\]-",x.charsetContent],["charsetEscape>charsetClass","dDwWsS",x.charsetClassEscape],["charsetEscape>charsetUnicodeEscape1","u",x.charsetContent],["charsetUnicodeEscape1>charsetUnicodeEscape2",y,x.charsetContent],["charsetUnicodeEscape2>charsetUnicodeEscape3",y,x.charsetContent],["charsetUnicodeEscape3>charsetUnicodeEscape4",y,x.charsetContent],["charsetUnicodeEscape4>charsetContent",y,x.charsetUnicodeEscape],["charsetEscape>charsetHexEscape1","x",x.charsetContent],["charsetHexEscape1>charsetHexEscape2",y,x.charsetContent],["charsetHexEscape2>charsetContent",y,x.charsetHexEscape],[_+">charsetContent","^\\]0-9a-fA-F-",x.charsetContent],[_+",charsetNullChar,charsetContent>charsetRangeStart","-",x.charsetContent],["charsetRangeStart>charsetRangeEnd","^\\]",x.charsetRangeEnd],["charsetRangeEnd>charsetContent","^\\]",x.charsetContent],["charsetRangeStart>charsetRangeEndEscape","\\"],["charsetRangeEndEscape>charsetRangeEnd","^dDwWsSux0-9bB1-9",x.charsetRangeEndNormalEscape],["charsetRangeEndEscape>charsetRangeEndWithNullChar","0"],["charsetRangeEndEscape>charsetRangeEndUnicodeEscape1","u",x.charsetRangeEnd],["charsetRangeEndUnicodeEscape1>charsetRangeEndUnicodeEscape2",y,x.charsetContent],["charsetRangeEndUnicodeEscape2>charsetRangeEndUnicodeEscape3",y,x.charsetContent],["charsetRangeEndUnicodeEscape3>charsetRangeEndUnicodeEscape4",y,x.charsetContent],["charsetRangeEndUnicodeEscape4>charsetRangeEnd",y,x.charsetRangeEndUnicodeEscape],["charsetRangeEndEscape>charsetRangeEndHexEscape1","x",x.charsetRangeEnd],["charsetRangeEndHexEscape1>charsetRangeEndHexEscape2",y,x.charsetContent],["charsetRangeEndHexEscape2>charsetRangeEnd",y,x.charsetRangeEndHexEscape],["charsetRangeEndEscape>charsetRangeEndClass","dDwWsS"],["charsetRangeEndUnicodeEscape1,charsetRangeEndHexEscape1>charsetContent","^\\]0-9a-fA-F",x.charsetContent],["charsetRangeEndUnicodeEscape2,charsetRangeEndUnicodeEscape3,charsetRangeEndUnicodeEscape4,charsetRangeEndHexEscape2>charsetRangeStart","-",x.charsetContent],[_+",charsetRangeEndUnicodeEscape1,charsetRangeEndHexEscape1,charsetRangeEndUnicodeEscape2,charsetRangeEndUnicodeEscape3,charsetRangeEndUnicodeEscape4,charsetRangeEndHexEscape2,charsetNullChar,charsetRangeStart,charsetContent,charsetClass,charsetExclude,charsetRangeEnd>exact","]"]]};function E(t,e,r,n,i){var a=t[0],e={min:e,max:r,nonGreedy:!1},r=n-1;a.chars&&1===a.chars.length&&(r=a.indices[0]),a.type===EXACT_NODE?(i={type:EXACT_NODE,repeat:e,chars:a.chars||i[r],indices:[r]},a.indices[0]===r&&t.shift(),t.unshift(i)):a.repeat=e,c(e,"beginIndex",n-t[0].indices[0])}function C(t,e,r){t.unshift({type:CHARSET_NODE,indices:[r-1],chars:"",ranges:[],classes:[e],exclude:!1})}function k(t){if(t._parentChoice){var e=t._parentChoice;delete t._parentChoice,delete t._parentGroup,delete t.groupCounter;var r=e._parentStack;return delete e._parentStack,r}return t}function S(t,e,r,n,i){var a=t[0],t=a.chars.slice(-2);(t=[t[0],e]).lastIndex=r,a.ranges.push(t),a.chars=a.chars.slice(0,-2)}return n}),(define="function"!=typeof define?require("amdefine")(module):define)("RegExp",["./parse","./Kit","./NFA"],function(a,s,c){function o(t,e){if(!(this instanceof o))return new o(t,e);t+="";var r={};"string"==typeof e?(~(e=e.toLowerCase()).indexOf("i")&&(r.ignoreCase=!0),~e.indexOf("m")&&(r.multiline=!0),~e.indexOf("g")&&(r.global=!0),~e.indexOf("d")&&(r.debug=!0)):r=e;var n,e=this.ast=a(t);this.source=t,this.multiline=!!r.multiline,this.global=!!r.global,this.ignoreCase=!!r.ignoreCase,this.debug=!!r.debug,this.flags="",this.multiline&&(this.flags+="m"),this.ignoreCase&&(this.flags+="i"),this.global&&(this.flags+="g"),n=this,["source","options","multiline","global","ignoreCase","flags","debug"].forEach(function(t){Object.defineProperty(n,t,{writable:!1,enumerable:!0})});var i=this.ignoreCase;e.traverse(function(t){var e,r;r=i,t=(t=(t=(e=t).chars.split("")).concat(s.flatten2(e.classes.map(function(t){return f[t]})))).concat(e.ranges),r&&(t=function(t){return s.flatten2(t.map(function(t){t=s.classify([t,"az","AZ"]).map[t];return s.flatten2(t.map(function(t){return/[a-z]/.test(t)?[t,t.toUpperCase()]:/[A-Z]/.test(t)?[t,t.toLowerCase()]:[t]}))}))}(t)),t=s.classify(t).ranges,e.exclude&&(t=s.negate(t)),t=s.coalesce(t),e.explained=t},CHARSET_NODE),e.traverse(function(t){var e,r;r=i,t=(e=t).chars.split(""),t=r?t.map(function(t){return/[a-z]/.test(t)?[t,t.toUpperCase()]:/[A-Z]/.test(t)?[t,t.toLowerCase()]:[t]}):t.map(function(t){return[t]}),e.explained=t},EXACT_NODE),this.multiline&&e.traverse(h,ASSERT_NODE)}function h(t){var e=t.assertionType;e!==AssertBegin&&e!==AssertEnd||(t.multiline=!0)}function u(t,e){var r=[];return{accepts:t.reduce(function(t,e){t=t,t=(e=e).repeat?function(t,e){var r,n,i=x[t.type],a=[],s=t.repeat,o=s.min,c=s.max;for(n=o;n--;)r=i(t,e),a=a.concat(r.trans),e=r.accepts;var h=[],u=[].concat(e);if(isFinite(c))for(;o<c;c--)r=i(t,e),h=h.concat(r.trans),e=r.accepts,u=u.concat(r.accepts);else{var l=e.slice();r=i(t,e),h=h.concat(r.trans),u=u.concat(r.accepts),h.push({from:r.accepts,to:l,charset:!1})}l=[p()];return s.nonGreedy?(a.push({from:u,to:l,charset:!1}),a=a.concat(h)):(a=a.concat(h)).push({from:u,to:l,charset:!1}),{accepts:l,trans:a}}(e,t):x[e.type](e,t);return r=r.concat(t.trans),t.accepts},e=e||["start"]),trans:r}}function l(t,e,r){for(var n,i,a,s=0,o=t.length;s<o;s++)if((a=t[s]).num===e)if(a.type===g)i=a.index;else if(a.type===d){n=a.index;break}if(void 0!==n&&void 0!==i)return r.slice(n,i)}function p(){return"q"+e++}a.exportConstants(),o.DEBUG=o.D=1,o.MULTILINE=o.M=2,o.GLOBAL=o.G=4,o.IGNORECASE=o.I=8,o.prototype={toString:function(){return"/"+this.source+"/"+this.flags},test:function(t){return null!==this.exec(t)},exec:function(t){for(var e,r=this.getNFA(),n=this.global&&this.lastIndex||0,i=t.length;n<i&&!(e=r.input(t,n)).acceptable;n++);if(!e||!e.acceptable)return this.lastIndex=0,null;var a=new Array(this.ast.groupCount+1);a[0]=t.slice(n,e.lastIndex+1);for(var s=e.stack,o=1,c=a.length;o<c;o++)a[o]=l(s,o,t);return this.lastIndex=e.lastIndex+1,a.index=n,a.input=t,a},getNFA:function(){if(this._nfa)return this._nfa;var t=this.ast;return e=1,t=u(t.tree),t=c(t,this.debug),this._nfa=t}};var n=s.parseCharset("^\n\r\u2028\u2029"),f={d:["09"],w:["AZ","az","09","_"],s:" \f\n\r\t\v ᠎           \u2028\u2029  　".split("")};["d","w","s"].forEach(function(t){f[t.toUpperCase()]=s.negate(f[t])});var e=0,d="GroupCaptureStart",g="GroupCaptureEnd",x={assert:function(t,e){function r(t){var a=c(u(t.sub,["start"]));return function(t,e,r,n,i){return a.input(i,r,null,t).acceptable}}function a(t,e){return!!(n(t-1,e)^n(t,e))}function n(t,e){return-1!==t&&t!==e.length&&/\w/.test(e[t])}var i,s,o;switch(t.assertionType){case AssertBegin:i=t.multiline?function(t,e,r,n,i){return 0===r||"\n"===i[r-1]}:function(t,e,r,n,i){return 0===r};break;case AssertEnd:i=t.multiline?function(t,e,r,n,i){return r===i.length||"\n"===e}:function(t,e,r,n,i){return r===i.length};break;case AssertWordBoundary:i=function(t,e,r,n,i){return a(r,i)};break;case AssertNonWordBoundary:i=function(t,e,r,n,i){return!a(r,i)};break;case AssertLookahead:i=r(t);break;case AssertNegativeLookahead:s=r(t),i=function(){return!s.apply(this,arguments)}}return{accepts:o=[p()],trans:[{from:e,to:o,charset:!1,assert:i}]}},choice:function(t,e){var r=[],n=[];return t.branches.forEach(function(t){t=u(t,e);r=r.concat(t.trans),n=n.concat(t.accepts)}),{trans:r,accepts:n}},backref:function(t,e){var r=[p()],a=t.num;return{accepts:r,trans:[{from:e,to:r,charset:!1,assert:function(t,e,r,n,i){t=l(t,a,i);return i.slice(r,r+(t=void 0===t?"":t).length)===t&&t.length}}]}},group:function(n,t){var e=[p()],r=[{from:t,to:e,charset:!1,action:!n.nonCapture&&function(t,e,r){t.unshift({type:d,num:n.num,index:r})}}],e=u(n.sub,t=e),r=r.concat(e.trans),t=[p()];return r.push({from:e.accepts,to:t,charset:!1,action:!n.nonCapture&&function(t,e,r){t.unshift({type:g,num:n.num,index:r})}}),{accepts:t,trans:r}},empty:function(t,e){var r=[p()];return{accepts:r,trans:[{from:e,to:r,charset:!1}]}},charset:function(t,e){var r=[p()];return{accepts:r,trans:[{from:e,to:r,charset:t.explained}]}},dot:function(t,e){var r=[p()];return{accepts:r,trans:[{from:e,to:r,charset:n}]}},exact:function(t,e){var r,n=[];return t.explained.forEach(function(t){n.push({from:e,to:r=[p()],charset:t}),e=r}),{accepts:r,trans:n}}};return o}),(define="function"!=typeof define?require("amdefine")(module):define)("visualize",["./Kit","./parse"],function(o,t){function h(t,e){if(e=e||"normal",i[t]&&i[t][e])return i[t][e];g.attr({"font-size":t,"font-weight":e});var r=g.getBBox();return i[t]=i[t]||{},i[t][e]={width:r.width/((g.attr("text").length-1)/2),height:r.height/2}}function b(t,e,r){t.forEach(function(t){t._translate?t._translate(e,r):(t.x+=e,t.y+=r)})}function p(t,e,r){var n,i=[],a=[],s=0,o=e,c=r,h=r;if(!t.length)return k.empty(null,e,r);t.forEach(function(t){t=t.repeat?k.repeat(t,o,r):k[t.type](t,o,r);i.push(t),o+=t.width+m,s+=t.width,c=Math.min(c,t.y),h=Math.max(h,t.y+t.height),a=a.concat(t.items)}),n=h-c,i.reduce(function(t,e){s+=m;t=f(t.lineOutX,r,e.lineInX);return a.push(t),e});var u=i[0].lineInX,t=i[i.length-1].lineOutX;return{items:a,width:s,height:n,x:e,y:c,lineInX:u,lineOutX:t}}function _(t,e,r,n,i){t=o.toPrint(t);var a=h(y),s=t.length*a.width,a=a.height+12,s=12+s,n={type:"rect",x:e,y:r-a/2,width:s,height:a,stroke:"none",fill:n||"transparent"},i={type:"text",x:e+s/2,y:r,text:t,"font-size":y,"font-family":v,fill:i||"black"};return{text:i,rect:n,items:[n,i],width:s,height:a,x:e,y:n.y,lineInX:e,lineOutX:e+s}}function w(t,e,r,n){var i=h(14),a=r.split("\n"),s=a.length*i.height,a=1<a.length?Math.max.apply(Math,a.map(function(t){return t.length})):r.length;return a*=i.width,{label:{type:"text",x:t,y:e-s/2-4,text:r,"font-size":14,"font-family":v,fill:n||"#444"},x:t-a/2,y:e-s-4,width:a,height:4+s}}function f(t,e,r){return{type:"path",x:t,y:e,path:["M",t,e,"H",r],"stroke-linecap":"butt","stroke-linejoin":"round",stroke:"#333","stroke-width":2,_translate:function(t,e){var r=this.path;r[1]+=t,r[2]+=e,r[4]+=t}}}function d(t,e,r,n){var i,a=r<t?-1:1,s=n<e?-1:1,r=Math.abs(e-n)<15?(i=["M",t,e,"C",t+Math.min(Math.abs(r-t)/2,10)*a,e,r-(r-t)/2,n,r,n],function(t,e){var r=this.path;r[1]+=t,r[2]+=e,r[4]+=t,r[5]+=e,r[6]+=t,r[7]+=e,r[8]+=t,r[9]+=e}):(i=["M",t,e,"Q",t+10*a,e,t+10*a,e+10*s,"V",Math.abs(e-n)<20?e+10*s:n-10*s,"Q",t+10*a,n,t+10*a*2,n,"H",r],function(t,e){var r=this.path;r[1]+=t,r[2]+=e,r[4]+=t,r[5]+=e,r[6]+=t,r[7]+=e,r[9]+=e,r[11]+=t,r[12]+=e,r[13]+=t,r[14]+=e,r[16]+=t});return{type:"path",path:i,"stroke-linecap":"butt","stroke-linejoin":"round",stroke:"#333","stroke-width":2,_translate:r}}function n(t,e,r){return{items:[{type:"circle",fill:r,cx:t+10,cy:e,r:10,stroke:"none",_translate:function(t,e){this.cx+=t,this.cy+=e}}],width:20,height:20,x:t,y:e,lineInX:t,lineOutX:t+20}}function x(t){if(Array.isArray(t)){for(var e=t,r=0;r<e.length;r++)if(!x(e[r]))return!1;return!0}return t.type===EMPTY_NODE||(t.type===GROUP_NODE&&void 0===t.num?x(t.sub):t.type===CHOICE_NODE?x(t.branches):void 0)}function u(t){var i=[];return t.forEach(function(t){var e,r,n;t.sub?(i.push(l("(")),t.type===ASSERT_NODE?t.assertionType===AssertLookahead?i.push(l("?=")):i.push(l("?!")):t.nonCapture&&i.push(l("?:")),(i=i.concat(u(t.sub))).push(l(")"))):t.branches?(t.branches.map(u).forEach(function(t){(i=i.concat(t)).push(l("|"))}),i.pop()):(n=S[t.type]||S.defaults,t.type===CHARSET_NODE?((e=E(t))&&!t.exclude||i.push(l("[")),t.exclude&&i.push(l("^",S.charsetExclude)),t.ranges.forEach(function(t){i.push(l(a(t[0]+"-"+t[1]),S.charsetRange))}),t.classes.forEach(function(t){i.push(l("\\"+t,S.charsetClass))}),i.push(l(a(t.chars),S.charsetChars)),e&&!t.exclude||i.push(l("]"))):(r=t.raw||"",t.repeat&&(r=r.slice(0,t.repeat.beginIndex)),r=o.toPrint(r,!0),i.push(l(r,n)))),t.repeat&&(r=t.repeat.min,n=t.repeat.max,0===r&&n===1/0?i.push(l("*")):1===r&&n===1/0?i.push(l("+")):0===r&&1===n?i.push(l("?")):(i.push(l("{")),i.push(l(r)),r===n||(i.push(l(",")),isFinite(n)&&i.push(l(n))),i.push(l("}"))),t.repeat.nonGreedy&&i.push(l("?",S.repeatNonGreedy)))}),i}function a(t){return(t=o.toPrint(t)).replace(/\[/g,"\\[").replace(/\]/g,"\\]")}function l(t,e){return e=e||S[t]||S.defaults,{type:"text","font-size":y,"font-family":v,text:t+"",fill:e,"text-anchor":"start","font-weight":"bold"}}function E(t){return!t.chars&&!t.ranges.length&&1===t.classes.length}t.exportConstants();var g,y=16,m=16,v="DejaVu Sans Mono,monospace",C=!1,i={},k={startPoint:function(t,e,r){return n(e,r,"r(0.5,0.5)#EFE-green")},endPoint:function(t,e,r){return n(e,r,"r(0.5,0.5)#FFF-#000")},empty:function(t,e,r){return{items:[f(e,r,e+10)],width:10,height:2,x:e,y:r,lineInX:e,lineOutX:e+10}},exact:function(t,e,r){return _(t.chars,e,r,"skyblue")},dot:function(t,e,r){r=_("AnyCharExceptNewLine",e,r,"DarkGreen","white");return r.rect.r=10,r.rect.tip="AnyChar except CR LF",r},backref:function(t,e,r){r=_("Backref #"+t.num,e,r,"navy","white");return r.rect.r=8,r},repeat:function(t,e,r){function n(t){return t+(t<2?" time":" times")}function i(t,e){var r=this.path;r[1]+=t,r[2]+=e,r[4]+=t,r[5]+=e,r[6]+=t,r[7]+=e,r[9]+=e,r[11]+=t,r[12]+=e,r[13]+=t,r[14]+=e,r[16]+=t,r[18]+=t,r[19]+=e,r[20]+=t,r[21]+=e,r[23]+=e,r[25]+=t,r[26]+=e,r[27]+=t,r[28]+=e}if(x(t))return k.empty(null,e,r);var a=t.repeat,s="",o=[];if(a.min===a.max&&0===a.min)return k.empty(null,e,r);var c=k[t.type](t,e,r),h=c.width,u=c.height;if(a.min===a.max&&1===a.min)return c;a.min===a.max?s+=n(a.min):(s+=a.min,isFinite(a.max)?s+=(1<a.max-a.min?" to ":" or ")+n(a.max):s+=" or more times");var l,p=10,f=0,d=c.y+c.height-r,g=20+c.width,h=g;return 1!==a.max?(u+=10,l={type:"path",path:["M",c.x+10,r,"Q",e,r,e,r+10,"V",r+(d+=10)-10,"Q",e,r+d,e+10,r+d,"H",e+g-10,"Q",e+g,r+d,e+g,r+d-10,"V",r+10,"Q",e+g,r,c.x+c.width+10,r],_translate:i,stroke:"maroon","stroke-width":2},a.nonGreedy&&(l.stroke="Brown",l["stroke-dasharray"]="-"),o.push(l)):s=!1,0===a.min&&(p+=10,f=-12,u+=10,a={type:"path",path:["M",e,r,"Q",e+10,r,e+10,r-10,"V",r-(t=r-c.y+10)+10,"Q",e+10,r-t,e+20,r-t,"H",e+(h=g=g+20)-20,"Q",e+g-10,r-t,e+g-10,r-t+10,"V",r-10,"Q",e+g-10,r,e+g,r],_translate:i,stroke:a.nonGreedy?"darkgreen":"#333","stroke-width":2},l&&b([l],10,0),o.push(a)),s&&(b([(s=w(e+h/2,r,s)).label],0,d+s.height+4),o.push(s.label),u+=4+s.height,(d=(Math.max(s.width,h)-h)/2)&&b(o,d,0),h=Math.max(s.width,h),p+=d),b(c.items,p,0),{items:o=o.concat(c.items),width:h,height:u,x:e,y:c.y+f,lineInX:c.lineInX+p,lineOutX:c.lineOutX+p}},choice:function(t,a,s){if(x(t))return k.empty(null,a,s);var e=0,o=0,t=t.branches.map(function(t){t=p(t,a,s);return e+=t.height,o=Math.max(o,t.width),t});e+=6*(t.length-1)+8;var c=a+(o+=40)/2,h=s-e/2+4,u=a+o,l=[];return t.forEach(function(t){var e=c-t.width/2;b(t.items,e-t.x,h-t.y),l=l.concat(t.items);var r=s+h-t.y,n=d(a,s,a+20,r),i=d(u,s,a+o-20,r);l.push(n,i),a+20!==e-t.x+t.lineInX&&l.push(f(a+20,r,e-t.x+t.lineInX)),t.lineOutX+e-t.x!=a+o-20&&l.push(f(t.lineOutX+e-t.x,r,a+o-20)),t.x=e,t.y=h,h+=t.height+6}),{items:l,width:o,height:e,x:a,y:s-e/2,lineInX:a,lineOutX:u}},charset:function(t,e,r){var n,i={d:"Digit",D:"NonDigit",w:"Word",W:"NonWord",s:"WhiteSpace",S:"NonWhiteSpace"},a=t.exclude?"Pink":"Khaki",s=t.exclude?"#C00":"";if(E(t)){if((n=_(i[t.classes[0]],e,r,"Green","white")).rect.r=5,t.exclude){var o=w(n.x+n.width/2,n.y,"None of:",s);(m=n.items).push(o.label);var c=n.width,h=Math.max(o.width,n.width);return b(m,v=(h-c)/2,0),{items:m,width:h,height:n.height+o.height,x:Math.min(o.x,n.x),y:o.y,lineInX:v+n.x,lineOutX:v+n.x+n.width}}return n}if(!t.chars&&!t.ranges.length&&!t.classes.length)return(n=_("AnyChar",e,r,"green","white")).rect.r=5,n;var u=[],h=0,l=0;t.chars&&((d=_(t.chars,e,r,"LightSkyBlue","black")).rect.r=5,u.push(d),h=d.width),t.ranges.forEach(function(t){t=_(t=t.split("").join("-"),e,r,"teal","white");t.rect.r=5,u.push(t),h=Math.max(t.width,h)}),t.classes.forEach(function(t){t=_(i[t],e,r,"Green","white");t.rect.r=5,u.push(t),h=Math.max(t.width,h)});var p,f,d=u[0].height,g=[],x=[];for(u.sort(function(t,e){return e.width-t.width}),u.forEach(function(t){(2*t.width+4>h?g:x).push(t)}),u=g;x.length;){if(p=x.pop(),!(f=x.pop())){u.push(p);break}2<p.width-f.width?(u.push(p),x.push(f)):(b(f.items,p.width+4,0),u.push({items:p.items.concat(f.items),width:p.width+f.width+4,height:p.height,x:p.x,y:p.y}),l-=p.height)}h+=12;var l=4*(u.length-1)+u.length*d+12,a={type:"rect",x:e,y:r-l/2,r:4,width:h,height:l,stroke:"none",fill:a},y=a.y+6,m=[a];u.forEach(function(t){b(t.items,e-t.x+(h-t.width)/2,y-t.y),m=m.concat(t.items),y+=t.height+4});o=w(a.x+a.width/2,a.y,(t.exclude?"None":"One")+" of:",s);m.push(o.label);var v,c=h;return h=Math.max(o.width,h),b(m,v=(h-c)/2,0),{items:m,width:h,height:l+o.height,x:Math.min(o.x,e),y:o.y,lineInX:v+e,lineOutX:v+e+a.width}},group:function(t,e,r){if(x(t))return k.empty(null,e,r);var n=p(t.sub,e,r);if(t.num){b(n.items,10,0);var i=n.width+20,a=n.height+20,s={type:"rect",x:e,y:n.y-10,r:6,width:i,height:a,"stroke-dasharray":".",stroke:"silver","stroke-width":2},r=w(s.x+s.width/2,s.y-2,"Group #"+t.num),t=n.items.concat([s,r.label]),s=Math.max(r.width,i),i=(s-i)/2;return i&&b(t,i,0),{items:t,width:s,height:a+r.height+4,x:e,y:r.y,lineInX:i+n.lineInX+10,lineOutX:i+n.lineOutX+10}}return n},assert:function(t,e,r){var n,i=t.assertionType,a=i.replace("Assert","")+"!";if(n={AssertNonWordBoundary:{bg:"maroon",fg:"white"},AssertWordBoundary:{bg:"purple",fg:"white"},AssertEnd:{bg:"Indigo",fg:"white"},AssertBegin:{bg:"Indigo",fg:"white"}}[i])return _(a=C&&("AssertBegin"===i||"AssertEnd"===i)?"Line"+a:a,e,r,n.bg,n.fg);i===AssertLookahead?(s="CornflowerBlue",o="darkgreen",a="Followed by:"):i===AssertNegativeLookahead&&(s="#F63",o="Purple",a="Not followed by:");var i=k.group(t,e,r),t=i.height+16,r=i.width+16,s={type:"rect",x:e,y:i.y-8,r:6,width:r,height:t,"stroke-dasharray":"-",stroke:s,"stroke-width":2},a=w(s.x+r/2,s.y,a,o),o=Math.max(r,a.width),r=(o-r)/2;return b(i.items,8+r,0),r&&b([s,a.label],r,0),{items:i.items.concat([s,a.label]),width:o,height:s.height+a.height,x:e,y:a.y,lineInX:r+i.lineInX+8,lineOutX:r+i.lineOutX+8}}},S={delimiter:"Indigo",flags:"darkgreen",exact:"#334",dot:"darkblue",backref:"teal",$:"purple","^":"purple","\\b":"#F30","\\B":"#F30","(":"blue",")":"blue","?=":"darkgreen","?!":"red","?:":"grey","[":"navy","]":"navy","|":"blue","{":"maroon",",":"maroon","}":"maroon","*":"maroon","+":"maroon","?":"maroon",repeatNonGreedy:"#F61",defaults:"black",charsetRange:"olive",charsetClass:"navy",charsetExclude:"red",charsetChars:"#534"};return function(t,e,r){r.clear(),r.setSize(0,0);var n,i=r.rect(0,0,0,0);i.attr("fill","#EEE"),i.attr("stroke","#EEE"),g=r.text(-1e3,-1e3,"XgfTlM|.q\nXgfTlM|.q").attr({"font-family":v,"font-size":y}),C=!!~e.indexOf("m"),(n=u(t.tree)).unshift(l("/",S.delimiter)),n.unshift(l("RegExp: ")),n.push(l("/",S.delimiter)),e&&n.push(l(e,S.flags));var a=h(y,"bold"),s=a.height/2+10,o=n.reduce(function(t,e){return e.x=t,e.y=s,t+e.text.length*a.width},10);o+=10,c=a.height+20,n=r.add(n),r.setSize(o,a.height+20);var t=(e=t.tree,t=n=0,e.unshift({type:"startPoint"}),e.push({type:"endPoint"}),p(e,n,t)),c=Math.max(t.height+30+a.height,c);o=Math.max(t.width+20,o),r.setSize(o,c),i.attr("width",o),i.attr("height",c),b(t.items,10,20+a.height-t.y),r.add(t.items)}}),function(t){function s(){}function f(t,e){return t-e}function d(t,e){t=String(t);var r,n=x,i=Array.prototype.slice.call(arguments,2),a=d.listeners(t),s=0,o=[],c={},h=[],u=g;g=t;for(var l=x=0,p=a.length;l<p;l++)"zIndex"in a[l]&&(o.push(a[l].zIndex),a[l].zIndex<0&&(c[a[l].zIndex]=a[l]));for(o.sort(f);o[s]<0;)if(r=c[o[s++]],h.push(r.apply(e,i)),x)return x=n,h;for(l=0;l<p;l++)if("zIndex"in(r=a[l]))if(r.zIndex==o[s]){if(h.push(r.apply(e,i)),x)break;do{if((r=c[o[++s]])&&h.push(r.apply(e,i)),x)break}while(r)}else c[r.zIndex]=r;else if(h.push(r.apply(e,i)),x)break;return x=n,g=u,h.length?h:null}var g,x,p="hasOwnProperty",y=/[\.\/]/,m={n:{}};d._events=m,d.listeners=function(t){for(var e,r,n,i,a,s,o,c=t.split(y),h=[m],u=[],l=0,p=c.length;l<p;l++){for(s=[],i=0,a=h.length;i<a;i++)for(r=[(o=h[i].n)[c[l]],o["*"]],n=2;n--;)(e=r[n])&&(s.push(e),u=u.concat(e.f||[]));h=s}return u},d.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var r=t.split(y),n=m,i=0,a=r.length;i<a;i++)n=(n=n.n).hasOwnProperty(r[i])&&n[r[i]]||(n[r[i]]={n:{}});for(n.f=n.f||[],i=0,a=n.f.length;i<a;i++)if(n.f[i]==e)return s;return n.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},d.f=function(t){var e=[].slice.call(arguments,1);return function(){d.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},d.stop=function(){x=1},d.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(g):g},d.nts=function(){return g.split(y)},d.off=d.unbind=function(t,e){if(t){for(var r,n,i,a=t.split(y),s=[m],o=0,c=a.length;o<c;o++)for(u=0;u<s.length;u+=i.length-2){if(i=[u,1],r=s[u].n,"*"!=a[o])r[a[o]]&&i.push(r[a[o]]);else for(n in r)r[p](n)&&i.push(r[n]);s.splice.apply(s,i)}for(o=0,c=s.length;o<c;o++)for(r=s[o];r.n;){if(e){if(r.f){for(u=0,l=r.f.length;u<l;u++)if(r.f[u]==e){r.f.splice(u,1);break}r.f.length||delete r.f}for(n in r.n)if(r.n[p](n)&&r.n[n].f){for(var h=r.n[n].f,u=0,l=h.length;u<l;u++)if(h[u]==e){h.splice(u,1);break}h.length||delete r.n[n].f}}else for(n in delete r.f,r.n)r.n[p](n)&&r.n[n].f&&delete r.n[n].f;r=r.n}}else d._events=m={n:{}}},d.once=function(t,e){function r(){return d.unbind(t,r),e.apply(this,arguments)}return d.on(t,r)},d.version="0.4.2",d.toString=function(){return"You are running Eve 0.4.2"},"undefined"!=typeof module&&module.exports?module.exports=d:void 0!==define?define("eve",[],function(){return d}):t.eve=d}(window||this),function(e,r){"function"==typeof define&&define.amd?define("libs/raphael",["eve"],function(t){return r(e,t)}):r(e,e.eve)}(this,function(t,N){function L(t){if(L.is(t,"function"))return s?t():N.on("raphael.DOMload",t);if(L.is(t,W))return L._engine.create[v](L,t.splice(0,3+L.is(t[0],H))).add(t);var e=Array.prototype.slice.call(arguments,0);if(L.is(e[e.length-1],"function")){var r=e.pop();return s?r.call(L._engine.create[v](L,e)):N.on("raphael.DOMload",function(){r.call(L._engine.create[v](L,e))})}return L._engine.create[v](L,arguments)}function x(t){if("function"==typeof t||Object(t)!==t)return t;var e,r=new t.constructor;for(e in t)t[M](e)&&(r[e]=x(t[e]));return r}function k(i,a,s){function o(){var t=Array.prototype.slice.call(arguments,0),e=t.join("␀"),r=o.cache=o.cache||{},n=o.count=o.count||[];return r[M](e)?function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return t.push(t.splice(r,1)[0])}(n,e):(1e3<=n.length&&delete r[n.shift()],n.push(e),r[e]=i[v](a,t)),s?s(r[e]):r[e]}return o}function o(){return this.hex}function m(t,e){for(var r=[],n=0,i=t.length;n<i-2*!e;n+=2){var a=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?i-4==n?a[3]={x:+t[0],y:+t[1]}:i-2==n&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[i-2],y:+t[i-1]}:i-4==n?a[3]=a[2]:n||(a[0]={x:+t[n],y:+t[n+1]}),r.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return r}function y(t,e,r,n,i){return t*(t*(-3*e+9*r-9*n+3*i)+6*e-12*r+6*n)-3*e+3*r}function _(t,e,r,n,i,a,s,o,c){for(var h=(c=1<(c=null==c?1:c)?1:c<0?0:c)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;f<12;f++){var d=h*u[f]+h,g=y(d,t,r,i,s),d=y(d,e,n,a,o);p+=l[f]*z.sqrt(g*g+d*d)}return h*p}function E(t,e,r){var n=L.bezierBBox(t),i=L.bezierBBox(e);if(!L.isBBoxIntersect(n,i))return r?0:[];for(var n=_.apply(0,t),i=_.apply(0,e),a=j(~~(n/5),1),s=j(~~(i/5),1),o=[],c=[],h={},u=r?0:[],l=0;l<a+1;l++){var p=L.findDotsAtSegment.apply(L,t.concat(l/a));o.push({x:p.x,y:p.y,t:l/a})}for(l=0;l<s+1;l++)p=L.findDotsAtSegment.apply(L,e.concat(l/s)),c.push({x:p.x,y:p.y,t:l/s});for(l=0;l<a;l++)for(var f=0;f<s;f++){var d=o[l],g=o[l+1],x=c[f],y=c[f+1],m=X(g.x-d.x)<.001?"y":"x",v=X(y.x-x.x)<.001?"y":"x",b=function(t,e,r,n,i,a,s,o){if(!(j(t,r)<U(i,s)||U(t,r)>j(i,s)||j(e,n)<U(a,o)||U(e,n)>j(a,o))){var c=(t-r)*(a-o)-(e-n)*(i-s);if(c){var h=((t*n-e*r)*(i-s)-(t-r)*(i*o-a*s))/c,u=((t*n-e*r)*(a-o)-(e-n)*(i*o-a*s))/c,l=+h.toFixed(2),c=+u.toFixed(2);if(!(l<+U(t,r).toFixed(2)||l>+j(t,r).toFixed(2)||l<+U(i,s).toFixed(2)||l>+j(i,s).toFixed(2)||c<+U(e,n).toFixed(2)||c>+j(e,n).toFixed(2)||c<+U(a,o).toFixed(2)||c>+j(a,o).toFixed(2)))return{x:h,y:u}}}}(d.x,d.y,g.x,g.y,x.x,x.y,y.x,y.y);b&&h[b.x.toFixed(4)]!=b.y.toFixed(4)&&(h[b.x.toFixed(4)]=b.y.toFixed(4),d=d.t+X((b[m]-d[m])/(g[m]-d[m]))*(g.t-d.t),x=x.t+X((b[v]-x[v])/(y[v]-x[v]))*(y.t-x.t),0<=d&&d<=1.001&&0<=x&&x<=1.001&&(r?u++:u.push({x:b.x,y:b.y,t1:U(d,1),t2:U(x,1)})))}return u}function i(t,e,r){t=L._path2curve(t),e=L._path2curve(e);for(var n,i,a,s,o,c,h,u,l=r?0:[],p=0,f=t.length;p<f;p++){var d=t[p];if("M"==d[0])n=a=d[1],g=s=d[2];else for(var g="C"==d[0]?(n=(h=[n,g].concat(d.slice(1)))[6],h[7]):(h=[n,g,n,g,a,s,a,s],n=a,s),x=0,y=e.length;x<y;x++){var m=e[x];if("M"==m[0])i=o=m[1],v=c=m[2];else{var v="C"==m[0]?(i=(u=[i,v].concat(m.slice(1)))[6],u[7]):(u=[i,v,i,v,o,c,o,c],i=o,c),b=E(h,u,r);if(r)l+=b;else{for(var _=0,w=b.length;_<w;_++)b[_].segment1=p,b[_].segment2=x,b[_].bez1=h,b[_].bez2=u;l=l.concat(b)}}}}return l}function O(t,e,r,n,i,a){null!=t?(this.a=+t,this.b=+e,this.c=+r,this.d=+n,this.e=+i,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function r(){return this.x+C+this.y+C+this.width+" × "+this.height}function T(t,e,r,n,i,a){function c(t){return((l*t+u)*t+h)*t}var h=3*e,u=3*(n-e)-h,l=1-h-u,e=3*r,i=3*(i-r)-e,r=1-e-i;return a=function(t,e){for(var r,n,i,a,s=t,o=0;o<8;o++){if(i=c(s)-t,X(i)<e)return s;if(X(a=(3*l*s+2*u)*s+h)<1e-6)break;s-=i/a}if((s=t)<(r=0))return r;if((n=1)<s)return n;for(;r<n;){if(i=c(s),X(i-t)<e)return s;i<t?r=s:n=s,s=(n-r)/2+r}return s}(t,1/(200*a)),((r*a+i)*a+e)*a}function h(t,e){var r=[],n={};if(this.ms=e,this.times=1,t){for(var i in t)t[M](i)&&(n[Z(i)]=t[i],r.push(Z(i)));r.sort(a)}this.anim=n,this.top=r[r.length-1],this.percents=r}function w(t,e,r,n,i,a){r=Z(r);var s,o,c,h,u,l=t.ms,p={},f={},d={};if(n)for(x=0,y=te.length;x<y;x++){var g=te[x];if(g.el.id==e.id&&g.anim==t){g.percent!=r?(te.splice(x,1),c=1):o=g,e.attr(g.totalOrigin);break}}else n=+f;for(var x=0,y=t.percents.length;x<y;x++){if(t.percents[x]==r||t.percents[x]>n*t.top){r=t.percents[x],u=t.percents[x-1]||0,l=l/t.top*(r-u),h=t.percents[x+1],s=t.anim[r];break}n&&e.attr(t.anim[t.percents[x]])}if(s){if(o)o.initstatus=n,o.start=new Date-o.ms*n;else{for(var m in s)if(s[M](m)&&(rt[M](m)||e.paper.customAttributes[M](m)))switch(p[m]=e.attr(m),null==p[m]&&(p[m]=et[m]),f[m]=s[m],rt[m]){case H:d[m]=(f[m]-p[m])/l;break;case"colour":p[m]=L.getRGB(p[m]);var v=L.getRGB(f[m]);d[m]={r:(v.r-p[m].r)/l,g:(v.g-p[m].g)/l,b:(v.b-p[m].b)/l};break;case"path":var b=Tt(p[m],f[m]),_=b[1];for(p[m]=b[0],d[m]=[],x=0,y=p[m].length;x<y;x++){d[m][x]=[0];for(var w=1,E=p[m][x].length;w<E;w++)d[m][x][w]=(_[x][w]-p[m][x][w])/l}break;case"transform":v=e._,b=Ft(v[m],f[m]);if(b)for(p[m]=b.from,f[m]=b.to,d[m]=[],d[m].real=!0,x=0,y=p[m].length;x<y;x++)for(d[m][x]=[p[m][x][0]],w=1,E=p[m][x].length;w<E;w++)d[m][x][w]=(f[m][x][w]-p[m][x][w])/l;else{b=e.matrix||new O,v={_:{transform:v.transform},getBBox:function(){return e.getBBox(1)}};p[m]=[b.a,b.b,b.c,b.d,b.e,b.f],Mt(v,f[m]),f[m]=v._.transform,d[m]=[(v.matrix.a-b.a)/l,(v.matrix.b-b.b)/l,(v.matrix.c-b.c)/l,(v.matrix.d-b.d)/l,(v.matrix.e-b.e)/l,(v.matrix.f-b.f)/l]}break;case"csv":var C=D(s[m])[P](I),k=D(p[m])[P](I);if("clip-rect"==m)for(p[m]=k,d[m]=[],x=k.length;x--;)d[m][x]=(C[x]-p[m][x])/l;f[m]=C;break;default:for(C=[][F](s[m]),k=[][F](p[m]),d[m]=[],x=e.paper.customAttributes[m].length;x--;)d[m][x]=((C[x]||0)-(k[x]||0))/l}var S,A=s.easing,B=L.easing_formulas[A];if(B=B||((B=D(A).match($))&&5==B.length?(S=B,function(t){return T(t,+S[1],+S[2],+S[3],+S[4],l)}):R),g={anim:t,percent:r,timestamp:A=s.start||t.start||+new Date,start:A+(t.del||0),status:0,initstatus:n||0,stop:!1,ms:l,easing:B,from:p,diff:d,to:f,el:e,callback:s.callback,prev:u,next:h,repeat:a||t.times,origin:e.attr(),totalOrigin:i},te.push(g),n&&!o&&!c&&(g.stop=!0,g.start=new Date-l*n,1==te.length))return re();c&&(g.start=new Date-g.ms*n),1==te.length&&ee(re)}N("raphael.anim.start."+e.id,e,t)}}function e(t){for(var e=0;e<te.length;e++)te[e].el.paper==t&&te.splice(e--,1)}L.version="2.1.2",L.eve=N;function a(t,e){return Z(t)-Z(e)}function R(t){return t}function n(t,e,r,n){return[["M",t,e],["m",0,-(n=null==n?r:n)],["a",r,n,0,1,1,0,2*n],["a",r,n,0,1,1,0,-2*n],["z"]]}var s,c,u,I=/[, ]+/,l={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},p=/\{(\d+)\}/g,M="hasOwnProperty",d={doc:document,win:t},f={was:Object.prototype[M].call(d.win,"Raphael"),is:d.win.Raphael},g=function(){this.ca=this.customAttributes={}},v="apply",F="concat",b="ontouchstart"in d.win||d.win.DocumentTouch&&d.doc instanceof DocumentTouch,C=" ",D=String,P="split",S="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[P](C),A={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},B=D.prototype.toLowerCase,z=Math,j=z.max,U=z.min,X=z.abs,G=z.pow,q=z.PI,H="number",W="array",V=Object.prototype.toString,Q=(L._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),Y={NaN:1,Infinity:1,"-Infinity":1},$=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,K=z.round,Z=parseFloat,J=parseInt,tt=D.prototype.toUpperCase,et=L._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},rt=L._availableAnimAttrs={blur:H,"clip-rect":"csv",cx:H,cy:H,fill:"colour","fill-opacity":H,"font-size":H,height:H,opacity:H,path:"path",r:H,rx:H,ry:H,stroke:"colour","stroke-opacity":H,"stroke-width":H,transform:"transform",width:H,x:H,y:H},nt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,it={hs:1,rg:1},at=/,?([achlmqrstvxz]),?/gi,st=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ot=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ct=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ht=(L._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ut=L._rectPath=function(t,e,r,n,i){return i?[["M",t+i,e],["l",r-2*i,0],["a",i,i,0,0,1,i,i],["l",0,n-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-r,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-n],["a",i,i,0,0,1,i,-i],["z"]]:[["M",t,e],["l",r,0],["l",0,n],["l",-r,0],["z"]]},lt=L._getPath={path:function(t){return t.attr("path")},circle:function(t){t=t.attrs;return n(t.cx,t.cy,t.r)},ellipse:function(t){t=t.attrs;return n(t.cx,t.cy,t.rx,t.ry)},rect:function(t){t=t.attrs;return ut(t.x,t.y,t.width,t.height,t.r)},image:function(t){t=t.attrs;return ut(t.x,t.y,t.width,t.height)},text:function(t){t=t._getBBox();return ut(t.x,t.y,t.width,t.height)},set:function(t){t=t._getBBox();return ut(t.x,t.y,t.width,t.height)}},pt=L.mapPath=function(t,e){if(!e)return t;for(var r,n,i,a,s,o=0,c=(t=Tt(t)).length;o<c;o++)for(i=1,a=(s=t[o]).length;i<a;i+=2)r=e.x(s[i],s[i+1]),n=e.y(s[i],s[i+1]),s[i]=r,s[i+1]=n;return t};if(L._g=d,L.type=d.win.SVGAngle||d.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==L.type){var ft,dt=d.doc.createElement("div");if(dt.innerHTML='<v:shape adj="1"/>',(ft=dt.firstChild).style.behavior="url(#default#VML)",!ft||"object"!=typeof ft.adj)return L.type="";dt=null}L.svg=!(L.vml="VML"==L.type),L._Paper=g,L.fn=dt=g.prototype=L.prototype,L._id=0,L._oid=0,L.is=function(t,e){return"finite"==(e=B.call(e))?!Y[M](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||V.call(t).slice(8,-1).toLowerCase()==e},L.angle=function(t,e,r,n,i,a){if(null!=i)return L.angle(t,e,i,a)-L.angle(r,n,i,a);r=t-r,n=e-n;return r||n?(180+180*z.atan2(-n,-r)/q+360)%360:0},L.rad=function(t){return t%360*q/180},L.deg=function(t){return 180*t/q%360},L.snapTo=function(t,e,r){if(r=L.is(r,"finite")?r:10,L.is(t,W)){for(var n=t.length;n--;)if(X(t[n]-e)<=r)return t[n]}else{var i=e%(t=+t);if(i<r)return e-i;if(t-r<i)return e-i+t}return e},L.createUUID=(c=/[xy]/g,u=function(t){var e=16*z.random()|0;return("x"==t?e:3&e|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(c,u).toUpperCase()}),L.setWindow=function(t){N("raphael.setWindow",L,d.win,t),d.win=t,d.doc=d.win.document,L._engine.initWin&&L._engine.initWin(d.win)};function gt(){return"hsb("+[this.h,this.s,this.b]+")"}function xt(){return"hsl("+[this.h,this.s,this.l]+")"}function yt(){return this.hex}function mt(t,e,r){var n;return null==e&&L.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,e=t.g,t=t.r),null==e&&L.is(t,"string")&&(t=(n=L.getRGB(t)).r,e=n.g,r=n.b),(1<t||1<e||1<r)&&(t/=255,e/=255,r/=255),[t,e,r]}function vt(t,e,r,n){return r={r:t*=255,g:e*=255,b:r*=255,hex:L.rgb(t,e,r),toString:yt},L.is(n,"finite")&&(r.opacity=n),r}var bt=function(t){if(L.vml){var r,n=/^\s+|\s+$/g;try{var e=new ActiveXObject("htmlfile");e.write("<body>"),e.close(),r=e.body}catch(t){r=createPopup().document.body}var i=r.createTextRange();bt=k(function(t){try{r.style.color=D(t).replace(n,"");var e=i.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(t){return"none"}})}else{var a=d.doc.createElement("i");a.title="Raphaël Colour Picker",a.style.display="none",d.doc.body.appendChild(a),bt=k(function(t){return a.style.color=t,d.doc.defaultView.getComputedStyle(a,"").getPropertyValue("color")})}return bt(t)};L.color=function(t){var e;return L.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=L.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):L.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=L.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(L.is(t,"string")&&(t=L.getRGB(t)),L.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=L.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=L.rgb2hsb(t),t.v=e.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=yt,t},L.hsb2rgb=function(t,e,r,n){var i,a,s;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,e=t.s,n=(t=t.h).o),a=(s=r*e)*(1-X((t=(t*=360)%360/60)%2-1)),r=e=i=r-s,vt(r+=[s,a,0,0,a,s][t=~~t],e+=[a,s,s,a,0,0][t],i+=[0,0,a,s,s,a][t],n)},L.hsl2rgb=function(t,e,r,n){var i,a,s;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,e=t.s,t=t.h),(1<t||1<e||1<r)&&(t/=360,e/=100,r/=100),a=(s=2*e*(r<.5?r:1-r))*(1-X((t=(t*=360)%360/60)%2-1)),r=e=i=r-s/2,vt(r+=[s,a,0,0,a,s][t=~~t],e+=[a,s,s,a,0,0][t],i+=[0,0,a,s,s,a][t],n)},L.rgb2hsb=function(t,e,r){var n,i;return t=(r=mt(t,e,r))[0],e=r[1],r=r[2],{h:((0==(i=(n=j(t,e,r))-U(t,e,r))?null:n==t?(e-r)/i:n==e?(r-t)/i+2:(t-e)/i+4)+360)%6*60/360,s:0==i?0:i/n,b:n,toString:gt}},L.rgb2hsl=function(t,e,r){var n,i,a;return t=(r=mt(t,e,r))[0],e=r[1],r=r[2],n=((i=j(t,e,r))+(a=U(t,e,r)))/2,{h:((0==(a=i-a)?null:i==t?(e-r)/a:i==e?(r-t)/a+2:(t-e)/a+4)+360)%6*60/360,s:0==a?0:n<.5?a/(2*n):a/(2-2*n),l:n,toString:xt}},L._path2string=function(){return this.join(",").replace(at,"$1")},L._preload=function(t,e){var r=d.doc.createElement("img");r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){e.call(this),this.onload=null,d.doc.body.removeChild(this)},r.onerror=function(){d.doc.body.removeChild(this)},d.doc.body.appendChild(r),r.src=t},L.getRGB=k(function(t){if(!t||(t=D(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:o};var e,r,n,i,a,s=(t=!it[M](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()?bt(t):t).match(Q);return s?(s[2]&&(n=J(s[2].substring(5),16),r=J(s[2].substring(3,5),16),e=J(s[2].substring(1,3),16)),s[3]&&(n=J((t=s[3].charAt(3))+t,16),r=J((t=s[3].charAt(2))+t,16),e=J((t=s[3].charAt(1))+t,16)),s[4]&&(a=s[4][P](nt),e=Z(a[0]),"%"==a[0].slice(-1)&&(e*=2.55),r=Z(a[1]),"%"==a[1].slice(-1)&&(r*=2.55),n=Z(a[2]),"%"==a[2].slice(-1)&&(n*=2.55),"rgba"==s[1].toLowerCase().slice(0,4)&&(i=Z(a[3])),a[3]&&"%"==a[3].slice(-1)&&(i/=100)),s[5]?(a=s[5][P](nt),e=Z(a[0]),"%"==a[0].slice(-1)&&(e*=2.55),r=Z(a[1]),"%"==a[1].slice(-1)&&(r*=2.55),n=Z(a[2]),"%"==a[2].slice(-1)&&(n*=2.55),"deg"!=a[0].slice(-3)&&"°"!=a[0].slice(-1)||(e/=360),"hsba"==s[1].toLowerCase().slice(0,4)&&(i=Z(a[3])),a[3]&&"%"==a[3].slice(-1)&&(i/=100),L.hsb2rgb(e,r,n,i)):s[6]?(a=s[6][P](nt),e=Z(a[0]),"%"==a[0].slice(-1)&&(e*=2.55),r=Z(a[1]),"%"==a[1].slice(-1)&&(r*=2.55),n=Z(a[2]),"%"==a[2].slice(-1)&&(n*=2.55),"deg"!=a[0].slice(-3)&&"°"!=a[0].slice(-1)||(e/=360),"hsla"==s[1].toLowerCase().slice(0,4)&&(i=Z(a[3])),a[3]&&"%"==a[3].slice(-1)&&(i/=100),L.hsl2rgb(e,r,n,i)):((s={r:e,g:r,b:n,toString:o}).hex="#"+(16777216|n|r<<8|e<<16).toString(16).slice(1),L.is(i,"finite")&&(s.opacity=i),s)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o}},L),L.hsb=k(function(t,e,r){return L.hsb2rgb(t,e,r).hex}),L.hsl=k(function(t,e,r){return L.hsl2rgb(t,e,r).hex}),L.rgb=k(function(t,e,r){return"#"+(16777216|r|e<<8|t<<16).toString(16).slice(1)}),L.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},t=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,1<e.h&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),t.hex},L.getColor.reset=function(){delete this.start},L.parsePathString=function(t){if(!t)return null;var e=_t(t);if(e.arr)return At(e.arr);var a={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},s=[];return(s=L.is(t,W)&&L.is(t[0],W)?At(t):s).length||D(t).replace(st,function(t,e,r){var n=[],i=e.toLowerCase();if(r.replace(ct,function(t,e){e&&n.push(+e)}),"m"==i&&2<n.length&&(s.push([e][F](n.splice(0,2))),i="l",e="m"==e?"l":"L"),"r"==i)s.push([e][F](n));else for(;n.length>=a[i]&&(s.push([e][F](n.splice(0,a[i]))),a[i]););}),s.toString=L._path2string,e.arr=At(s),s},L.parseTransformString=k(function(t){if(!t)return null;var i=[];return(i=L.is(t,W)&&L.is(t[0],W)?At(t):i).length||D(t).replace(ot,function(t,e,r){var n=[];B.call(e),r.replace(ct,function(t,e){e&&n.push(+e)}),i.push([e][F](n))}),i.toString=L._path2string,i});var _t=function(e){var r=_t.ps=_t.ps||{};return r[e]?r[e].sleep=100:r[e]={sleep:100},setTimeout(function(){for(var t in r)r[M](t)&&t!=e&&!--r[t].sleep&&delete r[t]}),r[e]};L.findDotsAtSegment=function(t,e,r,n,i,a,s,o,c){var h=1-c,u=G(h,3),l=G(h,2),p=c*c,f=p*c,d=u*t+3*l*c*r+3*h*c*c*i+f*s,g=u*e+3*l*c*n+3*h*c*c*a+f*o,u=t+2*c*(r-t)+p*(i-2*r+t),l=e+2*c*(n-e)+p*(a-2*n+e),f=r+2*c*(i-r)+p*(s-2*i+r),p=n+2*c*(a-n)+p*(o-2*a+n),r=h*t+c*r,n=h*e+c*n,s=h*i+c*s,c=h*a+c*o,o=90-180*z.atan2(u-f,l-p)/q;return(f<u||l<p)&&(o+=180),{x:d,y:g,m:{x:u,y:l},n:{x:f,y:p},start:{x:r,y:n},end:{x:s,y:c},alpha:o}},L.bezierBBox=function(t,e,r,n,i,a,s,o){L.is(t,"array")||(t=[t,e,r,n,i,a,s,o]);t=Ot.apply(null,t);return{x:t.min.x,y:t.min.y,x2:t.max.x,y2:t.max.y,width:t.max.x-t.min.x,height:t.max.y-t.min.y}},L.isPointInsideBBox=function(t,e,r){return e>=t.x&&e<=t.x2&&r>=t.y&&r<=t.y2},L.isBBoxIntersect=function(t,e){var r=L.isPointInsideBBox;return r(e,t.x,t.y)||r(e,t.x2,t.y)||r(e,t.x,t.y2)||r(e,t.x2,t.y2)||r(t,e.x,e.y)||r(t,e.x2,e.y)||r(t,e.x,e.y2)||r(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},L.pathIntersection=function(t,e){return i(t,e)},L.pathIntersectionNumber=function(t,e){return i(t,e,1)},L.isPointInsidePath=function(t,e,r){var n=L.pathBBox(t);return L.isPointInsideBBox(n,e,r)&&i(t,[["M",e,r],["H",n.x2+10]],1)%2==1},L._removedFactory=function(t){return function(){N("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};function wt(t,e,r,n){return[t,e,r,n,r,n]}function Et(t,e,r,n,i,a){return[1/3*t+2/3*r,1/3*e+2/3*n,1/3*i+2/3*r,1/3*a+2/3*n,i,a]}function Ct(t,e,r,n,i,a,s,o,c){var h=1-c;return{x:G(h,3)*t+3*G(h,2)*c*r+3*h*c*c*i+G(c,3)*s,y:G(h,3)*e+3*G(h,2)*c*n+3*h*c*c*a+G(c,3)*o}}function kt(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}var St=L.pathBBox=function(t){var e=_t(t);if(e.bbox)return x(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var r,n,i=0,a=0,s=[],o=[],c=0,h=(t=Tt(t)).length;c<h;c++)"M"==(r=t[c])[0]?(i=r[1],a=r[2],s.push(i),o.push(a)):(n=Ot(i,a,r[1],r[2],r[3],r[4],r[5],r[6]),s=s[F](n.min.x,n.max.x),o=o[F](n.min.y,n.max.y),i=r[5],a=r[6]);var u=U[v](0,s),l=U[v](0,o),p=j[v](0,s),f=j[v](0,o),d=p-u,g=f-l,g={x:u,y:l,x2:p,y2:f,width:d,height:g,cx:u+d/2,cy:l+g/2};return e.bbox=x(g),g},At=function(t){t=x(t);return t.toString=L._path2string,t},g=L._pathToRelative=function(t){var e=_t(t);if(e.rel)return At(e.rel);var r=[],n=0,i=0,a=0,s=0,o=0;"M"==(t=!L.is(t,W)||!L.is(t&&t[0],W)?L.parsePathString(t):t)[0][0]&&(a=n=t[0][1],s=i=t[0][2],o++,r.push(["M",n,i]));for(var c=o,h=t.length;c<h;c++){var u=r[c]=[],l=t[c];if(l[0]!=B.call(l[0]))switch(u[0]=B.call(l[0]),u[0]){case"a":u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=+(l[6]-n).toFixed(3),u[7]=+(l[7]-i).toFixed(3);break;case"v":u[1]=+(l[1]-i).toFixed(3);break;case"m":a=l[1],s=l[2];default:for(var p=1,f=l.length;p<f;p++)u[p]=+(l[p]-(p%2?n:i)).toFixed(3)}else{u=r[c]=[],"m"==l[0]&&(a=l[1]+n,s=l[2]+i);for(var d=0,g=l.length;d<g;d++)r[c][d]=l[d]}var x=r[c].length;switch(r[c][0]){case"z":n=a,i=s;break;case"h":n+=+r[c][x-1];break;case"v":i+=+r[c][x-1];break;default:n+=+r[c][x-2],i+=+r[c][x-1]}}return r.toString=L._path2string,e.rel=At(r),r},Bt=L._pathToAbsolute=function(t){var e=_t(t);if(e.abs)return At(e.abs);if(!(t=!L.is(t,W)||!L.is(t&&t[0],W)?L.parsePathString(t):t)||!t.length)return[["M",0,0]];var r=[],n=0,i=0,a=0,s=0,o=0;"M"==t[0][0]&&(a=n=+t[0][1],s=i=+t[0][2],o++,r[0]=["M",n,i]);for(var c,h,u=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),l=o,p=t.length;l<p;l++){if(r.push(c=[]),(h=t[l])[0]!=tt.call(h[0]))switch(c[0]=tt.call(h[0]),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+(h[6]+n),c[7]=+(h[7]+i);break;case"V":c[1]=+h[1]+i;break;case"H":c[1]=+h[1]+n;break;case"R":for(var f=[n,i][F](h.slice(1)),d=2,g=f.length;d<g;d++)f[d]=+f[d]+n,f[++d]=+f[d]+i;r.pop(),r=r[F](m(f,u));break;case"M":a=+h[1]+n,s=+h[2]+i;default:for(d=1,g=h.length;d<g;d++)c[d]=+h[d]+(d%2?n:i)}else if("R"==h[0])f=[n,i][F](h.slice(1)),r.pop(),r=r[F](m(f,u)),c=["R"][F](h.slice(-2));else for(var x=0,y=h.length;x<y;x++)c[x]=h[x];switch(c[0]){case"Z":n=a,i=s;break;case"H":n=c[1];break;case"V":i=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];default:n=c[c.length-2],i=c[c.length-1]}}return r.toString=L._path2string,e.abs=At(r),r},Nt=function(t,e,r,n,i,a,s,o,c,h){var u,l,p,f=120*q/180,d=q/180*(+i||0),g=[],x=k(function(t,e,r){return{x:t*z.cos(r)-e*z.sin(r),y:t*z.sin(r)+e*z.cos(r)}});h?(b=h[0],_=h[1],m=h[2],v=h[3]):(t=(l=x(t,e,-d)).x,e=l.y,o=(l=x(o,c,-d)).x,c=l.y,1<(y=(p=(z.cos(q/180*i),z.sin(q/180*i),(t-o)/2))*p/(r*r)+(u=(e-c)/2)*u/(n*n))&&(r*=y=z.sqrt(y),n*=y),m=(l=(a==s?-1:1)*z.sqrt(X(((l=r*r)*(y=n*n)-l*u*u-y*p*p)/(l*u*u+y*p*p))))*r*u/n+(t+o)/2,b=z.asin(((e-(v=l*-n*p/r+(e+c)/2))/n).toFixed(9)),_=z.asin(((c-v)/n).toFixed(9)),(b=t<m?q-b:b)<0&&(b=2*q+b),(_=o<m?q-_:_)<0&&(_=2*q+_),s&&_<b&&(b-=2*q),!s&&b<_&&(_-=2*q)),X(y=_-b)>f&&(u=_,l=o,p=c,o=m+r*z.cos(_=b+f*(s&&b<_?1:-1)),c=v+n*z.sin(_),g=Nt(o,c,r,n,i,0,s,l,p,[_,u,m,v]));var y=_-b,m=z.cos(b),v=z.sin(b),b=z.cos(_),_=z.sin(_),y=z.tan(y/4),r=4/3*r*y,n=4/3*n*y,y=[t,e],m=[t+r*v,e-n*m],b=[o+r*_,c-n*b],c=[o,c];if(m[0]=2*y[0]-m[0],m[1]=2*y[1]-m[1],h)return[m,b,c][F](g);for(var w=[],E=0,C=(g=[m,b,c][F](g).join()[P](",")).length;E<C;E++)w[E]=E%2?x(g[E-1],g[E],d).y:x(g[E],g[E+1],d).x;return w},Ot=k(function(t,e,r,n,i,a,s,o){var c,h=i-2*r+t-(s-2*i+r),u=2*(r-t)-2*(i-r),l=t-r,p=(-u+z.sqrt(u*u-4*h*l))/2/h,f=(-u-z.sqrt(u*u-4*h*l))/2/h,d=[e,o],g=[t,s];return"1e12"<X(p)&&(p=.5),"1e12"<X(f)&&(f=.5),0<p&&p<1&&(c=Ct(t,e,r,n,i,a,s,o,p),g.push(c.x),d.push(c.y)),0<f&&f<1&&(c=Ct(t,e,r,n,i,a,s,o,f),g.push(c.x),d.push(c.y)),p=(-(u=2*(n-e)-2*(a-n))+z.sqrt(u*u-4*(h=a-2*n+e-(o-2*a+n))*(l=e-n)))/2/h,f=(-u-z.sqrt(u*u-4*h*l))/2/h,"1e12"<X(p)&&(p=.5),"1e12"<X(f)&&(f=.5),0<p&&p<1&&(c=Ct(t,e,r,n,i,a,s,o,p),g.push(c.x),d.push(c.y)),0<f&&f<1&&(c=Ct(t,e,r,n,i,a,s,o,f),g.push(c.x),d.push(c.y)),{min:{x:U[v](0,g),y:U[v](0,d)},max:{x:j[v](0,g),y:j[v](0,d)}}}),Tt=L._path2curve=k(function(t,e){var r=!e&&_t(t);if(!e&&r.curve)return At(r.curve);function n(t,e,r){var n,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][F](Nt[v](0,[e.x,e.y][F](t.slice(1))));break;case"S":i="C"==r||"S"==r?(n=2*e.x-e.bx,2*e.y-e.by):(n=e.x,e.y),t=["C",n,i][F](t.slice(1));break;case"T":"Q"==r||"T"==r?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][F](Et(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][F](Et(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][F](wt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][F](wt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][F](wt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][F](wt(e.x,e.y,e.X,e.Y))}return t}function i(t,e){if(7<t[e].length){t[e].shift();for(var r=t[e];r.length;)t.splice(e++,0,["C"][F](r.splice(0,6)));t.splice(e,1),l=j(s.length,o&&o.length||0)}}function a(t,e,r,n,i){t&&e&&"M"==t[i][0]&&"M"!=e[i][0]&&(e.splice(i,0,["M",n.x,n.y]),r.bx=0,r.by=0,r.x=t[i][1],r.y=t[i][2],l=j(s.length,o&&o.length||0))}for(var s=Bt(t),o=e&&Bt(e),c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=0,l=j(s.length,o&&o.length||0);u<l;u++){s[u]=n(s[u],c),i(s,u),o&&(o[u]=n(o[u],h)),o&&i(o,u),a(s,o,c,h,u),a(o,s,h,c,u);var p=s[u],f=o&&o[u],d=p.length,g=o&&f.length;c.x=p[d-2],c.y=p[d-1],c.bx=Z(p[d-4])||c.x,c.by=Z(p[d-3])||c.y,h.bx=o&&(Z(f[g-4])||h.x),h.by=o&&(Z(f[g-3])||h.y),h.x=o&&f[g-2],h.y=o&&f[g-1]}return o||(r.curve=At(s)),o?[s,o]:s},null,At),Rt=(L._parseDots=k(function(t){for(var e=[],r=0,n=t.length;r<n;r++){var i={},a=t[r].match(/^([^:]*):?([\d\.]*)/);if(i.color=L.getRGB(a[1]),i.color.error)return null;i.color=i.color.hex,a[2]&&(i.offset=a[2]+"%"),e.push(i)}for(n=e.length-(r=1);r<n;r++)if(!e[r].offset){for(var s=Z(e[r-1].offset||0),o=0,c=r+1;c<n;c++)if(e[c].offset){o=e[c].offset;break}o||(o=100,c=n);for(var h=((o=Z(o))-s)/(c-r+1);r<c;r++)s+=h,e[r].offset=s+"%"}return e}),L._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),It=(L._tofront=function(t,e){e.top!==t&&(Rt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},L._toback=function(t,e){e.bottom!==t&&(Rt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},L._insertafter=function(t,e,r){Rt(t,r),e==r.top&&(r.top=t),e.next&&(e.next.prev=t),t.next=e.next,(t.prev=e).next=t},L._insertbefore=function(t,e,r){Rt(t,r),e==r.bottom&&(r.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,(e.prev=t).next=e},L.toMatrix=function(t,e){var r=St(t),t={_:{transform:""},getBBox:function(){return r}};return Mt(t,e),t.matrix}),Mt=(L.transformPath=function(t,e){return pt(t,It(t,e))},L._extractTransform=function(t,e){if(null==e)return t._.transform;e=D(e).replace(/\.{3}|\u2026/g,t._.transform||"");var r,n=L.parseTransformString(e),i=0,e=0,a=1,s=1,o=t._,c=new O;if(o.transform=n||[],n)for(var h=0,u=n.length;h<u;h++){var l,p,f,d,g,x=n[h],y=x.length,m=D(x[0]).toLowerCase(),v=x[0]!=m,b=v?c.invert():0;"t"==m&&3==y?v?(l=b.x(0,0),p=b.y(0,0),f=b.x(x[1],x[2]),d=b.y(x[1],x[2]),c.translate(f-l,d-p)):c.translate(x[1],x[2]):"r"==m?2==y?(g=g||t.getBBox(1),c.rotate(x[1],g.x+g.width/2,g.y+g.height/2),i+=x[1]):4==y&&(v?(f=b.x(x[2],x[3]),d=b.y(x[2],x[3]),c.rotate(x[1],f,d)):c.rotate(x[1],x[2],x[3]),i+=x[1]):"s"==m?2==y||3==y?(g=g||t.getBBox(1),c.scale(x[1],x[y-1],g.x+g.width/2,g.y+g.height/2),a*=x[1],s*=x[y-1]):5==y&&(v?(f=b.x(x[3],x[4]),d=b.y(x[3],x[4]),c.scale(x[1],x[2],f,d)):c.scale(x[1],x[2],x[3],x[4]),a*=x[1],s*=x[2]):"m"==m&&7==y&&c.add(x[1],x[2],x[3],x[4],x[5],x[6]),o.dirtyT=1,t.matrix=c}t.matrix=c,o.sx=a,o.sy=s,o.deg=i,o.dx=r=c.e,o.dy=e=c.f,1==a&&1==s&&!i&&o.bbox?(o.bbox.x+=+r,o.bbox.y+=+e):o.dirtyT=1}),Ft=L._equaliseTransform=function(t,e){e=D(e).replace(/\.{3}|\u2026/g,t),t=L.parseTransformString(t)||[],e=L.parseTransformString(e)||[];for(var r,n,i,a,s=j(t.length,e.length),o=[],c=[],h=0;h<s;h++){if(i=t[h]||kt(e[h]),a=e[h]||kt(i),i[0]!=a[0]||"r"==i[0].toLowerCase()&&(i[2]!=a[2]||i[3]!=a[3])||"s"==i[0].toLowerCase()&&(i[3]!=a[3]||i[4]!=a[4]))return;for(o[h]=[],c[h]=[],r=0,n=j(i.length,a.length);r<n;r++)r in i&&(o[h][r]=i[r]),r in a&&(c[h][r]=a[r])}return{from:o,to:c}};function Dt(t){return t[0]*t[0]+t[1]*t[1]}function Pt(t){var e=z.sqrt(Dt(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}L._getContainer=function(t,e,r,n){var i;if(null!=(i=null!=n||L.is(t,"object")?t:d.doc.getElementById(t)))return i.tagName?null==e?{container:i,width:i.style.pixelWidth||i.offsetWidth,height:i.style.pixelHeight||i.offsetHeight}:{container:i,width:e,height:r}:{container:1,x:t,y:e,width:r,height:n}},L.pathToRelative=g,L._engine={},L.path2curve=Tt,L.matrix=function(t,e,r,n,i,a){return new O(t,e,r,n,i,a)},(g=O.prototype).add=function(t,e,r,n,i,a){var s,o,c,h,u=[[],[],[]],l=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[t,r,i],[e,n,a],[0,0,1]];for(t&&t instanceof O&&(p=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;s<3;s++)for(o=0;o<3;o++){for(c=h=0;c<3;c++)h+=l[s][c]*p[c][o];u[s][o]=h}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},g.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new O(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},g.clone=function(){return new O(this.a,this.b,this.c,this.d,this.e,this.f)},g.translate=function(t,e){this.add(1,0,0,1,t,e)},g.scale=function(t,e,r,n){null==e&&(e=t),(r||n)&&this.add(1,0,0,1,r,n),this.add(t,0,0,e,0,0),(r||n)&&this.add(1,0,0,1,-r,-n)},g.rotate=function(t,e,r){t=L.rad(t),e=e||0,r=r||0;var n=+z.cos(t).toFixed(9),t=+z.sin(t).toFixed(9);this.add(n,t,-t,n,e,r),this.add(1,0,0,1,-e,-r)},g.x=function(t,e){return t*this.a+e*this.c+this.e},g.y=function(t,e){return t*this.b+e*this.d+this.f},g.get=function(t){return+this[D.fromCharCode(97+t)].toFixed(4)},g.toString=function(){return L.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},g.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},g.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},g.split=function(){var t={};t.dx=this.e,t.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];t.scalex=z.sqrt(Dt(e[0])),Pt(e[0]),t.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*t.shear,e[1][1]-e[0][1]*t.shear],t.scaley=z.sqrt(Dt(e[1])),Pt(e[1]),t.shear/=t.scaley;var r=-e[0][1],e=e[1][1];return e<0?(t.rotate=L.deg(z.acos(e)),r<0&&(t.rotate=360-t.rotate)):t.rotate=L.deg(z.asin(r)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},g.toTransformString=function(t){t=t||this[P]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:"")+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:"")+(t.rotate?"r"+[t.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]};g=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(g&&g[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&g&&g[1]<8?dt.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:dt.safari=function(){};function Lt(){this.returnValue=!1}function zt(){return this.originalEvent.preventDefault()}function jt(){this.cancelBubble=!0}function Ut(){return this.originalEvent.stopPropagation()}function Xt(t){var e=d.doc.documentElement.scrollTop||d.doc.body.scrollTop,r=d.doc.documentElement.scrollLeft||d.doc.body.scrollLeft;return{x:t.clientX+r,y:t.clientY+e}}for(var Gt=d.doc.addEventListener?function(a,t,s,o){function e(t){var e=Xt(t);return s.call(o,t,e.x,e.y)}return a.addEventListener(t,e,!1),b&&A[t]&&a.addEventListener(A[t],function(t){for(var e=Xt(t),r=t,n=0,i=t.targetTouches&&t.targetTouches.length;n<i;n++)if(t.targetTouches[n].target==a){(t=t.targetTouches[n]).originalEvent=r,t.preventDefault=zt,t.stopPropagation=Ut;break}return s.call(o,t,e.x,e.y)},!1),function(){return a.removeEventListener(t,e,!1),b&&A[t]&&a.removeEventListener(A[t],e,!1),!0}}:d.doc.attachEvent?function(t,e,n,i){function r(t){t=t||d.win.event;var e=d.doc.documentElement.scrollTop||d.doc.body.scrollTop,r=d.doc.documentElement.scrollLeft||d.doc.body.scrollLeft,r=t.clientX+r,e=t.clientY+e;return t.preventDefault=t.preventDefault||Lt,t.stopPropagation=t.stopPropagation||jt,n.call(i,t,r,e)}return t.attachEvent("on"+e,r),function(){return t.detachEvent("on"+e,r),!0}}:void 0,qt=[],Ht=function(t){for(var e,r=t.clientX,n=t.clientY,i=d.doc.documentElement.scrollTop||d.doc.body.scrollTop,a=d.doc.documentElement.scrollLeft||d.doc.body.scrollLeft,s=qt.length;s--;){if(e=qt[s],b&&t.touches){for(var o,c=t.touches.length;c--;)if((o=t.touches[c]).identifier==e.el._drag.id){r=o.clientX,n=o.clientY,(t.originalEvent||t).preventDefault();break}}else t.preventDefault();var h,u=e.el.node,l=u.nextSibling,p=u.parentNode,f=u.style.display;d.win.opera&&p.removeChild(u),u.style.display="none",h=e.el.paper.getElementByPoint(r,n),u.style.display=f,d.win.opera&&(l?p.insertBefore(u,l):p.appendChild(u)),h&&N("raphael.drag.over."+e.el.id,e.el,h),N("raphael.drag.move."+e.el.id,e.move_scope||e.el,r+a-e.el._drag.x,n+i-e.el._drag.y,r+a,n+i,t)}},Wt=function(t){L.unmousemove(Ht).unmouseup(Wt);for(var e,r=qt.length;r--;)(e=qt[r]).el._drag={},N("raphael.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,t);qt=[]},Vt=L.el={},Qt=S.length;Qt--;)!function(n){L[n]=Vt[n]=function(t,e){return L.is(t,"function")&&(this.events=this.events||[],this.events.push({name:n,f:t,unbind:Gt(this.shape||this.node||d.doc,n,t,e||this)})),this},L["un"+n]=Vt["un"+n]=function(t){for(var e=this.events||[],r=e.length;r--;)e[r].name!=n||!L.is(t,"undefined")&&e[r].f!=t||(e[r].unbind(),e.splice(r,1),e.length||delete this.events);return this}}(S[Qt]);Vt.data=function(t,e){var r=ht[this.id]=ht[this.id]||{};if(0==arguments.length)return r;if(1!=arguments.length)return r[t]=e,N("raphael.data.set."+this.id,this,e,t),this;if(L.is(t,"object")){for(var n in t)t[M](n)&&this.data(n,t[n]);return this}return N("raphael.data.get."+this.id,this,r[t],t),r[t]},Vt.removeData=function(t){return null==t?ht[this.id]={}:ht[this.id]&&delete ht[this.id][t],this},Vt.getData=function(){return x(ht[this.id]||{})},Vt.hover=function(t,e,r,n){return this.mouseover(t,r).mouseout(e,n||r)},Vt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Yt=[];Vt.drag=function(o,c,h,u,l,p){function t(t){(t.originalEvent||t).preventDefault();var e=t.clientX,r=t.clientY,n=d.doc.documentElement.scrollTop||d.doc.body.scrollTop,i=d.doc.documentElement.scrollLeft||d.doc.body.scrollLeft;if(this._drag.id=t.identifier,b&&t.touches)for(var a,s=t.touches.length;s--;)if(a=t.touches[s],this._drag.id=a.identifier,a.identifier==this._drag.id){e=a.clientX,r=a.clientY;break}this._drag.x=e+i,this._drag.y=r+n,qt.length||L.mousemove(Ht).mouseup(Wt),qt.push({el:this,move_scope:u,start_scope:l,end_scope:p}),c&&N.on("raphael.drag.start."+this.id,c),o&&N.on("raphael.drag.move."+this.id,o),h&&N.on("raphael.drag.end."+this.id,h),N("raphael.drag.start."+this.id,l||u||this,t.clientX+i,t.clientY+n,t)}return this._drag={},Yt.push({el:this,start:t}),this.mousedown(t),this},Vt.onDragOver=function(t){t?N.on("raphael.drag.over."+this.id,t):N.unbind("raphael.drag.over."+this.id)},Vt.undrag=function(){for(var t=Yt.length;t--;)Yt[t].el==this&&(this.unmousedown(Yt[t].start),Yt.splice(t,1),N.unbind("raphael.drag.*."+this.id));Yt.length||L.unmousemove(Ht).unmouseup(Wt),qt=[]},dt.circle=function(t,e,r){r=L._engine.circle(this,t||0,e||0,r||0);return this.__set__&&this.__set__.push(r),r},dt.rect=function(t,e,r,n,i){i=L._engine.rect(this,t||0,e||0,r||0,n||0,i||0);return this.__set__&&this.__set__.push(i),i},dt.ellipse=function(t,e,r,n){n=L._engine.ellipse(this,t||0,e||0,r||0,n||0);return this.__set__&&this.__set__.push(n),n},dt.path=function(t){!t||L.is(t,"string")||L.is(t[0],W)||(t+="");var e=L._engine.path(L.format[v](L,arguments),this);return this.__set__&&this.__set__.push(e),e},dt.image=function(t,e,r,n,i){i=L._engine.image(this,t||"about:blank",e||0,r||0,n||0,i||0);return this.__set__&&this.__set__.push(i),i},dt.text=function(t,e,r){r=L._engine.text(this,t||0,e||0,D(r));return this.__set__&&this.__set__.push(r),r},dt.set=function(t){L.is(t,"array")||(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new he(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},dt.setStart=function(t){this.__set__=t||this.set()},dt.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},dt.setSize=function(t,e){return L._engine.setSize.call(this,t,e)},dt.setViewBox=function(t,e,r,n,i){return L._engine.setViewBox.call(this,t,e,r,n,i)},dt.top=dt.bottom=null,dt.raphael=L;dt.getElementByPoint=function(t,e){var r,n,i,a,s,o=this.canvas,c=d.doc.elementFromPoint(t,e);if(d.win.opera&&"svg"==c.tagName&&(n=(r=o).getBoundingClientRect(),i=r.ownerDocument,a=i.body,s=i.documentElement,r=s.clientTop||a.clientTop||0,i=s.clientLeft||a.clientLeft||0,a={y:n.top+(d.win.pageYOffset||s.scrollTop||a.scrollTop)-r,x:n.left+(d.win.pageXOffset||s.scrollLeft||a.scrollLeft)-i},(i=o.createSVGRect()).x=t-a.x,i.y=e-a.y,i.width=i.height=1,(i=o.getIntersectionList(i,null)).length&&(c=i[i.length-1])),!c)return null;for(;c.parentNode&&c!=o.parentNode&&!c.raphael;)c=c.parentNode;return(c=c==this.canvas.parentNode?o:c)&&c.raphael?this.getById(c.raphaelid):null},dt.getElementsByBBox=function(e){var r=this.set();return this.forEach(function(t){L.isBBoxIntersect(t.getBBox(),e)&&r.push(t)}),r},dt.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},dt.forEach=function(t,e){for(var r=this.bottom;r;){if(!1===t.call(e,r))return this;r=r.next}return this},dt.getElementsByPoint=function(e,r){var n=this.set();return this.forEach(function(t){t.isPointInside(e,r)&&n.push(t)}),n},Vt.isPointInside=function(t,e){var r=this.realPath=lt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=L.transformPath(r,this.attr("transform"))),L.isPointInsidePath(r,t,e)},Vt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=lt[this.type](this),e.bboxwt=St(this.realPath),e.bboxwt.toString=r,e.dirty=0),e.bboxwt):(!e.dirty&&!e.dirtyT&&e.bbox||(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=lt[this.type](this)),e.bbox=St(pt(this.realPath,this.matrix)),e.bbox.toString=r,e.dirty=e.dirtyT=0),e.bbox)},Vt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Vt.glow=function(t){if("text"==this.type)return null;for(var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},r=e.width/2,n=this.paper,i=n.set(),a=this.realPath||lt[this.type](this),a=this.matrix?pt(a,this.matrix):a,s=1;s<1+r;s++)i.push(n.path(a).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/r*s).toFixed(3),opacity:+(e.opacity/r).toFixed(3)}));return i.insertBefore(this).translate(e.offsetx,e.offsety)};function $t(t,e,r,n,i,a,s,o,c){return null==c?_(t,e,r,n,i,a,s,o):L.findDotsAtSegment(t,e,r,n,i,a,s,o,function(t,e,r,n,i,a,s,o,c){if(!(c<0||_(t,e,r,n,i,a,s,o)<c)){for(var h=.5,u=1-h,l=_(t,e,r,n,i,a,s,o,u);.01<X(l-c);)l=_(t,e,r,n,i,a,s,o,u+=(l<c?1:-1)*(h/=2));return u}}(t,e,r,n,i,a,s,o,c))}var g=function(f,d){return function(t,e,r){for(var n,i,a,s,o,c="",h={},u=0,l=0,p=(t=Tt(t)).length;l<p;l++){if("M"==(a=t[l])[0])n=+a[1],i=+a[2];else{if(e<u+(s=$t(n,i,a[1],a[2],a[3],a[4],a[5],a[6]))){if(d&&!h.start){if(c+=["C"+(o=$t(n,i,a[1],a[2],a[3],a[4],a[5],a[6],e-u)).start.x,o.start.y,o.m.x,o.m.y,o.x,o.y],r)return c;h.start=c,c=["M"+o.x,o.y+"C"+o.n.x,o.n.y,o.end.x,o.end.y,a[5],a[6]].join(),u+=s,n=+a[5],i=+a[6];continue}if(!f&&!d)return{x:(o=$t(n,i,a[1],a[2],a[3],a[4],a[5],a[6],e-u)).x,y:o.y,alpha:o.alpha}}u+=s,n=+a[5],i=+a[6]}c+=a.shift()+a}return h.end=c,o=(o=f?u:d?h:L.findDotsAtSegment(n,i,a[0],a[1],a[2],a[3],a[4],a[5],1)).alpha?{x:o.x,y:o.y,alpha:o.alpha}:o}},Kt=g(1),Zt=g(),Jt=g(0,1);L.getTotalLength=Kt,L.getPointAtLength=Zt,L.getSubpath=function(t,e,r){if(this.getTotalLength(t)-r<1e-6)return Jt(t,e).end;r=Jt(t,r,1);return e?Jt(r,e).end:r},Vt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Kt(t)},Vt.getPointAtLength=function(t){var e=this.getPath();if(e)return Zt(e,t)},Vt.getPath=function(){var t,e=L._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return t=e?e(this):t},Vt.getSubpath=function(t,e){var r=this.getPath();if(r)return L.getSubpath(r,t,e)};g=L.easing_formulas={linear:function(t){return t},"<":function(t){return G(t,1.7)},">":function(t){return G(t,.48)},"<>":function(t){var e=.48-t/1.04,r=z.sqrt(.1734+e*e),t=r-e,e=-r-e,e=G(X(t),1/3)*(t<0?-1:1)+G(X(e),1/3)*(e<0?-1:1)+.5;return 3*(1-e)*e*e+e*e*e},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},elastic:function(t){return t==!!t?t:G(2,-10*t)*z.sin(2*q*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,r=2.75,t=t<1/r?e*t*t:t<2/r?e*(t-=1.5/r)*t+.75:t<2.5/r?e*(t-=2.25/r)*t+.9375:e*(t-=2.625/r)*t+.984375;return t}};g.easeIn=g["ease-in"]=g["<"],g.easeOut=g["ease-out"]=g[">"],g.easeInOut=g["ease-in-out"]=g["<>"],g["back-in"]=g.backIn,g["back-out"]=g.backOut;var te=[],ee=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},re=function(){for(var t=+new Date,e=0;e<te.length;e++){var r=te[e];if(!r.el.removed&&!r.paused){var n,i=t-r.start,a=r.ms,s=r.easing,o=r.from,c=r.diff,h=r.to,u=(r.t,r.el),l={},p={};if(r.initstatus?(i=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*a,r.status=r.initstatus,delete r.initstatus,r.stop&&te.splice(e--,1)):r.status=(r.prev+(r.percent-r.prev)*(i/a))/r.anim.top,!(i<0))if(i<a){var f,d=s(i/a);for(f in o)if(o[M](f)){switch(rt[f]){case H:g=+o[f]+d*a*c[f];break;case"colour":g="rgb("+[ne(K(o[f].r+d*a*c[f].r)),ne(K(o[f].g+d*a*c[f].g)),ne(K(o[f].b+d*a*c[f].b))].join(",")+")";break;case"path":for(var g=[],x=0,y=o[f].length;x<y;x++){g[x]=[o[f][x][0]];for(var m=1,v=o[f][x].length;m<v;m++)g[x][m]=+o[f][x][m]+d*a*c[f][x][m];g[x]=g[x].join(C)}g=g.join(C);break;case"transform":if(c[f].real)for(g=[],x=0,y=o[f].length;x<y;x++)for(g[x]=[o[f][x][0]],m=1,v=o[f][x].length;m<v;m++)g[x][m]=o[f][x][m]+d*a*c[f][x][m];else{function b(t){return+o[f][t]+d*a*c[f][t]}g=[["m",b(0),b(1),b(2),b(3),b(4),b(5)]]}break;case"csv":if("clip-rect"==f)for(g=[],x=4;x--;)g[x]=+o[f][x]+d*a*c[f][x];break;default:var _=[][F](o[f]);for(g=[],x=u.paper.customAttributes[f].length;x--;)g[x]=+_[x]+d*a*c[f][x]}l[f]=g}u.attr(l),function(t,e,r){setTimeout(function(){N("raphael.anim.frame."+t,e,r)})}(u.id,u,r.anim)}else{if(function(t,e,r){setTimeout(function(){N("raphael.anim.frame."+e.id,e,r),N("raphael.anim.finish."+e.id,e,r),L.is(t,"function")&&t.call(e)})}(r.callback,u,r.anim),u.attr(h),te.splice(e--,1),1<r.repeat&&!r.next){for(n in h)h[M](n)&&(p[n]=r.totalOrigin[n]);r.el.attr(p),w(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&w(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}L.svg&&u&&u.paper&&u.paper.safari(),te.length&&ee(re)},ne=function(t){return 255<t?255:t<0?0:t};Vt.animateWith=function(t,e,r,n,i,a){var s=this;if(s.removed)return a&&a.call(s),s;a=r instanceof h?r:L.animation(r,n,i,a);w(a,s,a.percents[0],null,s.attr());for(var o=0,c=te.length;o<c;o++)if(te[o].anim==e&&te[o].el==t){te[c-1].start=te[o].start;break}return s},Vt.onAnimation=function(t){return t?N.on("raphael.anim.frame."+this.id,t):N.unbind("raphael.anim.frame."+this.id),this},h.prototype.delay=function(t){var e=new h(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},h.prototype.repeat=function(t){var e=new h(this.anim,this.ms);return e.del=this.del,e.times=z.floor(j(t,0))||1,e},L.animation=function(t,e,r,n){if(t instanceof h)return t;!L.is(r,"function")&&r||(n=n||r||null,r=null),e=+e||0;var i,a,s={};for(a in t=Object(t))t[M](a)&&Z(a)!=a&&Z(a)+"%"!=a&&(i=!0,s[a]=t[a]);return i?(r&&(s.easing=r),n&&(s.callback=n),new h({100:s},e)):new h(t,e)},Vt.animate=function(t,e,r,n){var i=this;if(i.removed)return n&&n.call(i),i;n=t instanceof h?t:L.animation(t,e,r,n);return w(n,i,n.percents[0],null,i.attr()),i},Vt.setTime=function(t,e){return t&&null!=e&&this.status(t,U(e,t.ms)/t.ms),this},Vt.status=function(t,e){var r,n,i=[],a=0;if(null!=e)return w(t,this,-1,U(e,1)),this;for(r=te.length;a<r;a++)if((n=te[a]).el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;i.push({anim:n.anim,status:n.status})}return t?0:i},Vt.pause=function(t){for(var e=0;e<te.length;e++)te[e].el.id!=this.id||t&&te[e].anim!=t||!1!==N("raphael.anim.pause."+this.id,this,te[e].anim)&&(te[e].paused=!0);return this},Vt.resume=function(t){for(var e,r=0;r<te.length;r++)te[r].el.id!=this.id||t&&te[r].anim!=t||(e=te[r],!1!==N("raphael.anim.resume."+this.id,this,e.anim)&&(delete e.paused,this.status(e.anim,e.status)));return this},Vt.stop=function(t){for(var e=0;e<te.length;e++)te[e].el.id!=this.id||t&&te[e].anim!=t||!1!==N("raphael.anim.stop."+this.id,this,te[e].anim)&&te.splice(e--,1);return this},N.on("raphael.remove",e),N.on("raphael.clear",e),Vt.toString=function(){return"Raphaël’s object"};var ie,ae,se,oe,ce,he=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,r=t.length;e<r;e++)!t[e]||t[e].constructor!=Vt.constructor&&t[e].constructor!=he||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},ue=he.prototype;for(ie in ue.push=function(){for(var t,e,r=0,n=arguments.length;r<n;r++)!(t=arguments[r])||t.constructor!=Vt.constructor&&t.constructor!=he||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},ue.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ue.forEach=function(t,e){for(var r=0,n=this.items.length;r<n;r++)if(!1===t.call(e,this.items[r],r))return this;return this},Vt)Vt[M](ie)&&(ue[ie]=function(r){return function(){var e=arguments;return this.forEach(function(t){t[r][v](t,e)})}}(ie));return ue.attr=function(t,e){if(t&&L.is(t,W)&&L.is(t[0],"object"))for(var r=0,n=t.length;r<n;r++)this.items[r].attr(t[r]);else for(var i=0,a=this.items.length;i<a;i++)this.items[i].attr(t,e);return this},ue.clear=function(){for(;this.length;)this.pop()},ue.splice=function(t,e,r){t=t<0?j(this.length+t,0):t,e=j(0,U(this.length-t,e));for(var n=[],i=[],a=[],s=2;s<arguments.length;s++)a.push(arguments[s]);for(s=0;s<e;s++)i.push(this[t+s]);for(;s<this.length-t;s++)n.push(this[t+s]);var o=a.length;for(s=0;s<o+n.length;s++)this.items[t+s]=this[t+s]=s<o?a[s]:n[s-o];for(s=this.items.length=this.length-=e-o;this[s];)delete this[s++];return new he(i)},ue.exclude=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]==t)return this.splice(e,1),!0},ue.animate=function(t,e,r,n){!L.is(r,"function")&&r||(n=r||null);var i,a=this.items.length,s=a,o=this;if(!a)return this;n&&(i=function(){--a||n.call(o)}),r=L.is(r,"string")?r:i;for(var c=L.animation(t,e,r,i),h=this.items[--s].animate(c);s--;)this.items[s]&&!this.items[s].removed&&this.items[s].animateWith(h,c,c),this.items[s]&&!this.items[s].removed||a--;return this},ue.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},ue.getBBox=function(){for(var t,e=[],r=[],n=[],i=[],a=this.items.length;a--;)this.items[a].removed||(t=this.items[a].getBBox(),e.push(t.x),r.push(t.y),n.push(t.x+t.width),i.push(t.y+t.height));return{x:e=U[v](0,e),y:r=U[v](0,r),x2:n=j[v](0,n),y2:i=j[v](0,i),width:n-e,height:i-r}},ue.clone=function(t){t=this.paper.set();for(var e=0,r=this.items.length;e<r;e++)t.push(this.items[e].clone());return t},ue.toString=function(){return"Raphaël‘s set"},ue.glow=function(r){var n=this.paper.set();return this.forEach(function(t,e){t=t.glow(r);null!=t&&t.forEach(function(t,e){n.push(t)})}),n},ue.isPointInside=function(e,r){var n=!1;return this.forEach(function(t){if(t.isPointInside(e,r))return!(n=!0)}),n},L.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e,r={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(e in t.face)t.face[M](e)&&(r.face[e]=t.face[e]);if(this.fonts[n]?this.fonts[n].push(r):this.fonts[n]=[r],!t.svg)for(var i in r.face["units-per-em"]=J(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[M](i)){var a=t.glyphs[i];if(r.glyphs[i]={w:a.w,k:{},d:a.d&&"M"+a.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},a.k)for(var s in a.k)a[M](s)&&(r.glyphs[i].k[s]=a.k[s])}return t},dt.getFont=function(t,e,r,n){if(n=n||"normal",r=r||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,L.fonts){var i,a=L.fonts[t];if(!a){var s,o=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(s in L.fonts)if(L.fonts[M](s)&&o.test(s)){a=L.fonts[s];break}}if(a)for(var c=0,h=a.length;c<h&&((i=a[c]).face["font-weight"]!=e||i.face["font-style"]!=r&&i.face["font-style"]||i.face["font-stretch"]!=n);c++);return i}},dt.print=function(t,e,r,n,i,a,s,o){a=a||"middle",s=j(U(s||0,1),-1),o=j(U(o||1,3),1);var c=D(r)[P](""),h=0,u=0,l="";if(n=L.is(n,"string")?this.getFont(n):n)for(var p,f,d=(i||16)/n.face["units-per-em"],i=n.face.bbox[P](I),g=+i[0],x=i[3]-i[1],y=0,m=+i[1]+("baseline"==a?x+ +n.face.descent:x/2),v=0,b=c.length;v<b;v++)"\n"==c[v]?(u=f=h=0,y+=x*o):(p=u&&n.glyphs[c[v-1]]||{},f=n.glyphs[c[v]],h+=u?(p.w||n.w)+(p.k&&p.k[c[v]]||0)+n.w*s:0,u=1),f&&f.d&&(l+=L.transformPath(f.d,["t",h*d,y*d,"s",d,d,g,m,"t",(t-g)/d,(e-m)/d]));return this.path(l).attr({fill:"#000",stroke:"none"})},dt.add=function(t){if(L.is(t,"array"))for(var e,r=this.set(),n=0,i=t.length;n<i;n++)e=t[n]||{},l[M](e.type)&&r.push(this[e.type]().attr(e));return r},L.format=function(t,e){var r=L.is(e,W)?[0][F](e):arguments;return(t=t&&L.is(t,"string")&&r.length-1?t.replace(p,function(t,e){return null==r[++e]?"":r[e]}):t)||""},L.fullfill=(oe=/\{([^\}]+)\}/g,ce=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,n){return String(t).replace(oe,function(t,e){return r=t,a=t=n,e.replace(ce,function(t,e,r,n,i){e=e||n,a&&("function"==typeof(a=e in a?a[e]:a)&&i&&(a=a()))}),a=(null==a||a==t?r:a)+"";var r,a})}),L.ninja=function(){return f.was?d.win.Raphael=f.is:delete Raphael,L},L.st=ue,null==(ae=document).readyState&&ae.addEventListener&&(ae.addEventListener("DOMContentLoaded",se=function(){ae.removeEventListener("DOMContentLoaded",se,!1),ae.readyState="complete"},!1),ae.readyState="loading"),function t(){/in/.test(ae.readyState)?setTimeout(t,9):L.eve("raphael.DOMload")}(),N.on("raphael.DOMload",function(){s=!0}),function(){if(L.svg){var E="hasOwnProperty",C=String,g=parseFloat,m=parseInt,x=Math,v=x.max,b=x.abs,y=x.pow,_=/[, ]+/,p=L.eve,k="",w="http://www.w3.org/1999/xlink",S={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},A={};L.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};function B(t,e){var n="linear",r=t.id+e,i=.5,a=.5,s=t.node,o=t.paper,c=s.style,h=L._g.doc.getElementById(r);if(!h){if(e=(e=C(e).replace(L._radial_gradient,function(t,e,r){return n="radial",e&&r&&(i=g(e),r=2*(.5<(a=g(r)))-1,.25<y(i-.5,2)+y(a-.5,2)&&(a=x.sqrt(.25-y(i-.5,2))*r+.5)&&.5!=a&&(a=a.toFixed(5)-1e-5*r)),k})).split(/\s*\-\s*/),"linear"==n){var u=e.shift(),u=-g(u);if(isNaN(u))return null;var l=[0,0,x.cos(L.rad(u)),x.sin(L.rad(u))],u=1/(v(b(l[2]),b(l[3]))||1);l[2]*=u,l[3]*=u,l[2]<0&&(l[0]=-l[2],l[2]=0),l[3]<0&&(l[1]=-l[3],l[3]=0)}var p=L._parseDots(e);if(!p)return null;if(r=r.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&r!=t.gradient.id&&(o.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){h=R(n+"Gradient",{id:r}),t.gradient=h,R(h,"radial"==n?{fx:i,fy:a}:{x1:l[0],y1:l[1],x2:l[2],y2:l[3],gradientTransform:t.matrix.invert()}),o.defs.appendChild(h);for(var f=0,d=p.length;f<d;f++)h.appendChild(R("stop",{offset:p[f].offset||(f?"100%":"0%"),"stop-color":p[f].color||"#fff"}))}}return R(s,{fill:"url(#"+r+")",opacity:1,"fill-opacity":1}),c.fill=k,c.opacity=1,c.fillOpacity=1}function N(t){var e=t.getBBox(1);R(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})}function O(t,e,r){if("path"==t.type){for(var n,i,a,s,o,c,h,u,l,p=C(e).toLowerCase().split("-"),f=t.paper,d=r?"end":"start",g=t.node,x=t.attrs,y=x["stroke-width"],m=p.length,v="classic",b=3,_=3,w=5;m--;)switch(p[m]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":v=p[m];break;case"wide":_=5;break;case"narrow":_=2;break;case"long":b=5;break;case"short":b=2}for(u in u="open"==v?(b+=2,_+=2,w+=2,c=1,i=r?4:1,{fill:"none",stroke:x.stroke}):(i=c=b/2,{fill:x.stroke,stroke:"none"}),t._.arrows?r?(t._.arrows.endPath&&A[t._.arrows.endPath]--,t._.arrows.endMarker&&A[t._.arrows.endMarker]--):(t._.arrows.startPath&&A[t._.arrows.startPath]--,t._.arrows.startMarker&&A[t._.arrows.startMarker]--):t._.arrows={},"none"!=v?(s="raphael-marker-"+d+v+b+_,L._g.doc.getElementById(a="raphael-marker-"+v)?A[a]++:(f.defs.appendChild(R(R("path"),{"stroke-linecap":"round",d:S[v],id:a})),A[a]=1),(o=L._g.doc.getElementById(s))?(A[s]++,h=o.getElementsByTagName("use")[0]):(o=R(R("marker"),{id:s,markerHeight:_,markerWidth:b,orient:"auto",refX:i,refY:_/2}),h=R(R("use"),{"xlink:href":"#"+a,transform:(r?"rotate(180 "+b/2+" "+_/2+") ":k)+"scale("+b/w+","+_/w+")","stroke-width":(1/((b/w+_/w)/2)).toFixed(4)}),o.appendChild(h),f.defs.appendChild(o),A[s]=1),R(h,u),c=c*("diamond"!=v&&"oval"!=v),h=r?(n=t._.arrows.startdx*y||0,L.getTotalLength(x.path)-c*y):(n=c*y,L.getTotalLength(x.path)-(t._.arrows.enddx*y||0)),(u={})["marker-"+d]="url(#"+s+")",(h||n)&&(u.d=L.getSubpath(x.path,n,h)),R(g,u),t._.arrows[d+"Path"]=a,t._.arrows[d+"Marker"]=s,t._.arrows[d+"dx"]=c,t._.arrows[d+"Type"]=v,t._.arrows[d+"String"]=e):(h=r?(n=t._.arrows.startdx*y||0,L.getTotalLength(x.path)-n):(n=0,L.getTotalLength(x.path)-(t._.arrows.enddx*y||0)),t._.arrows[d+"Path"]&&R(g,{d:L.getSubpath(x.path,n,h)}),delete t._.arrows[d+"Path"],delete t._.arrows[d+"Marker"],delete t._.arrows[d+"dx"],delete t._.arrows[d+"Type"],delete t._.arrows[d+"String"]),A)!A[E](u)||A[u]||(l=L._g.doc.getElementById(u))&&l.parentNode.removeChild(l)}}function T(t,e,r){if(e=c[C(e).toLowerCase()]){for(var n=t.attrs["stroke-width"]||"1",i={round:n,square:n,butt:0}[t.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,a=[],s=e.length;s--;)a[s]=e[s]*n+(s%2?1:-1)*i;R(t.node,{"stroke-dasharray":a.join(",")})}}function f(n,t){var e,r=n.node,i=n.attrs,a=r.style.visibility;for(e in r.style.visibility="hidden",t)if(t[E](e)){if(!L._availableAttrs[E](e))continue;var s=t[e];switch(i[e]=s,e){case"blur":n.blur(s);break;case"title":var o,c=r.getElementsByTagName("title");c.length&&(c=c[0])?c.firstChild.nodeValue=s:(c=R("title"),o=L._g.doc.createTextNode(s),c.appendChild(o),r.appendChild(c));break;case"href":case"target":var h=r.parentNode;"a"!=h.tagName.toLowerCase()&&(c=R("a"),h.insertBefore(c,r),c.appendChild(r),h=c),"target"==e?h.setAttributeNS(w,"show","blank"==s?"new":s):h.setAttributeNS(w,e,s);break;case"cursor":r.style.cursor=s;break;case"transform":n.transform(s);break;case"arrow-start":O(n,s);break;case"arrow-end":O(n,s,1);break;case"clip-rect":var u,h=C(s).split(_);4==h.length&&(n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode),p=R("clipPath"),u=R("rect"),p.id=L.createUUID(),R(u,{x:h[0],y:h[1],width:h[2],height:h[3]}),p.appendChild(u),n.paper.defs.appendChild(p),R(r,{"clip-path":"url(#"+p.id+")"}),n.clip=u),s||(u=r.getAttribute("clip-path"))&&((y=L._g.doc.getElementById(u.replace(/(^url\(#|\)$)/g,k)))&&y.parentNode.removeChild(y),R(r,{"clip-path":k}),delete n.clip);break;case"path":"path"==n.type&&(R(r,{d:s?i.path=L._pathToAbsolute(s):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&O(n,n._.arrows.startString),"endString"in n._.arrows&&O(n,n._.arrows.endString,1)));break;case"width":if(r.setAttribute(e,s),n._.dirty=1,!i.fx)break;e="x",s=i.x;case"x":i.fx&&(s=-i.x-(i.width||0));case"rx":if("rx"==e&&"rect"==n.type)break;case"cx":r.setAttribute(e,s),n.pattern&&N(n),n._.dirty=1;break;case"height":if(r.setAttribute(e,s),n._.dirty=1,!i.fy)break;e="y",s=i.y;case"y":i.fy&&(s=-i.y-(i.height||0));case"ry":if("ry"==e&&"rect"==n.type)break;case"cy":r.setAttribute(e,s),n.pattern&&N(n),n._.dirty=1;break;case"r":"rect"==n.type?R(r,{rx:s,ry:s}):r.setAttribute(e,s),n._.dirty=1;break;case"src":"image"==n.type&&r.setAttributeNS(w,"href",s);break;case"stroke-width":1==n._.sx&&1==n._.sy||(s/=v(b(n._.sx),b(n._.sy))||1),n.paper._vbSize&&(s*=n.paper._vbSize),r.setAttribute(e,s),i["stroke-dasharray"]&&T(n,i["stroke-dasharray"],t),n._.arrows&&("startString"in n._.arrows&&O(n,n._.arrows.startString),"endString"in n._.arrows&&O(n,n._.arrows.endString,1));break;case"stroke-dasharray":T(n,s,t);break;case"fill":var l=C(s).match(L._ISURL);if(l){var p=R("pattern"),f=R("image");p.id=L.createUUID(),R(p,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),R(f,{x:0,y:0,"xlink:href":l[1]}),p.appendChild(f),function(r){L._preload(l[1],function(){var t=this.offsetWidth,e=this.offsetHeight;R(r,{width:t,height:e}),R(f,{width:t,height:e}),n.paper.safari()})}(p),n.paper.defs.appendChild(p),R(r,{fill:"url(#"+p.id+")"}),n.pattern=p,n.pattern&&N(n);break}var d,g,x=L.getRGB(s);if(x.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=C(s).charAt())&&B(n,s)){!("opacity"in i||"fill-opacity"in i)||(d=L._g.doc.getElementById(r.getAttribute("fill").replace(/^url\(#|\)$/g,k)))&&(g=d.getElementsByTagName("stop"),R(g[g.length-1],{"stop-opacity":("opacity"in i?i.opacity:1)*("fill-opacity"in i?i["fill-opacity"]:1)})),i.gradient=s,i.fill="none";break}}else delete t.gradient,delete i.gradient,!L.is(i.opacity,"undefined")&&L.is(t.opacity,"undefined")&&R(r,{opacity:i.opacity}),!L.is(i["fill-opacity"],"undefined")&&L.is(t["fill-opacity"],"undefined")&&R(r,{"fill-opacity":i["fill-opacity"]});x[E]("opacity")&&R(r,{"fill-opacity":1<x.opacity?x.opacity/100:x.opacity});case"stroke":x=L.getRGB(s),r.setAttribute(e,x.hex),"stroke"==e&&x[E]("opacity")&&R(r,{"stroke-opacity":1<x.opacity?x.opacity/100:x.opacity}),"stroke"==e&&n._.arrows&&("startString"in n._.arrows&&O(n,n._.arrows.startString),"endString"in n._.arrows&&O(n,n._.arrows.endString,1));break;case"gradient":"circle"!=n.type&&"ellipse"!=n.type&&"r"==C(s).charAt()||B(n,s);break;case"opacity":i.gradient&&!i[E]("stroke-opacity")&&R(r,{"stroke-opacity":1<s?s/100:s});case"fill-opacity":if(i.gradient){(d=L._g.doc.getElementById(r.getAttribute("fill").replace(/^url\(#|\)$/g,k)))&&(g=d.getElementsByTagName("stop"),R(g[g.length-1],{"stop-opacity":s}));break}default:"font-size"==e&&(s=m(s,10)+"px");var y=e.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});r.style[y]=s,n._.dirty=1,r.setAttribute(e,s)}}(function(t,e){if("text"==t.type&&(e[E]("text")||e[E]("font")||e[E]("font-size")||e[E]("x")||e[E]("y"))){var r=t.attrs,n=t.node,i=n.firstChild?m(L._g.doc.defaultView.getComputedStyle(n.firstChild,k).getPropertyValue("font-size"),10):10;if(e[E]("text")){for(r.text=e.text;n.firstChild;)n.removeChild(n.firstChild);for(var a,s=C(e.text).split("\n"),o=[],c=0,h=s.length;c<h;c++)a=R("tspan"),c&&R(a,{dy:1.2*i,x:r.x}),a.appendChild(L._g.doc.createTextNode(s[c])),n.appendChild(a),o[c]=a}else for(o=n.getElementsByTagName("tspan"),c=0,h=o.length;c<h;c++)c?R(o[c],{dy:1.2*i,x:r.x}):R(o[0],{dy:0});R(n,{x:r.x,y:r.y}),t._.dirty=1;var u=t._getBBox(),l=r.y-(u.y+u.height/2);l&&L.is(l,"finite")&&R(o[0],{dy:l})}})(n,t),r.style.visibility=a}function o(t,e){(this[0]=this.node=t).raphael=!0,this.id=L._oid++,t.raphaelid=this.id,this.matrix=L.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},e.bottom||(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null}var R=function(t,e){if(e)for(var r in"string"==typeof t&&(t=R(t)),e)e[E](r)&&("xlink:"==r.substring(0,6)?t.setAttributeNS(w,r.substring(6),C(e[r])):t.setAttribute(r,C(e[r])));else(t=L._g.doc.createElementNS("http://www.w3.org/2000/svg",t)).style&&(t.style.webkitTapHighlightColor="rgba(0,0,0,0)");return t},c={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},t=L.el;(o.prototype=t).constructor=o,L._engine.path=function(t,e){var r=R("path");e.canvas&&e.canvas.appendChild(r);e=new o(r,e);return e.type="path",f(e,{fill:"none",stroke:"#000",path:t}),e},t.rotate=function(t,e,r){return this.removed||((t=C(t).split(_)).length-1&&(e=g(t[1]),r=g(t[2])),t=g(t[0]),null!=(e=null==r?r:e)&&null!=r||(e=(n=this.getBBox(1)).x+n.width/2,r=n.y+n.height/2),this.transform(this._.transform.concat([["r",t,e,r]]))),this;var n},t.scale=function(t,e,r,n){return this.removed||((t=C(t).split(_)).length-1&&(e=g(t[1]),r=g(t[2]),n=g(t[3])),t=g(t[0]),null==e&&(e=t),null!=(r=null==n?n:r)&&null!=n||(i=this.getBBox(1)),r=null==r?i.x+i.width/2:r,n=null==n?i.y+i.height/2:n,this.transform(this._.transform.concat([["s",t,e,r,n]]))),this;var i},t.translate=function(t,e){return this.removed||((t=C(t).split(_)).length-1&&(e=g(t[1])),t=g(t[0])||0,this.transform(this._.transform.concat([["t",t,e=+e||0]]))),this},t.transform=function(t){var e=this._;return null==t?e.transform:(L._extractTransform(this,t),this.clip&&R(this.clip,{transform:this.matrix.invert()}),this.pattern&&N(this),this.node&&R(this.node,{transform:this.matrix}),1==e.sx&&1==e.sy||(e=this.attrs[E]("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":e})),this)},t.hide=function(){return this.removed||this.paper.safari(this.node.style.display="none"),this},t.show=function(){return this.removed||this.paper.safari(this.node.style.display=""),this},t.remove=function(){if(!this.removed&&this.node.parentNode){var t,e=this.paper;for(t in e.__set__&&e.__set__.exclude(this),p.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),L._tear(this,e),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node),this)this[t]="function"==typeof this[t]?L._removedFactory(t):null;this.removed=!0}},t._getBBox=function(){var t;"none"==this.node.style.display&&(this.show(),t=!0);var e={};try{e=this.node.getBBox()}catch(t){}finally{e=e||{}}return t&&this.hide(),e},t.attr=function(t,e){if(this.removed)return this;if(null==t){var r,n={};for(r in this.attrs)this.attrs[E](r)&&(n[r]=this.attrs[r]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==e&&L.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(var i=t.split(_),a={},s=0,o=i.length;s<o;s++)(t=i[s])in this.attrs?a[t]=this.attrs[t]:L.is(this.paper.customAttributes[t],"function")?a[t]=this.paper.customAttributes[t].def:a[t]=L._availableAttrs[t];return o-1?a:a[i[0]]}if(null==e&&L.is(t,"array")){for(a={},s=0,o=t.length;s<o;s++)a[t[s]]=this.attr(t[s]);return a}var c,h;for(h in null!=e?(c={})[t]=e:null!=t&&L.is(t,"object")&&(c=t),c)p("raphael.attr."+h+"."+this.id,this,c[h]);for(h in this.paper.customAttributes)if(this.paper.customAttributes[E](h)&&c[E](h)&&L.is(this.paper.customAttributes[h],"function")){var u,l=this.paper.customAttributes[h].apply(this,[].concat(c[h]));for(u in this.attrs[h]=c[h],l)l[E](u)&&(c[u]=l[u])}return f(this,c),this},t.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&L._tofront(this,t),this},t.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;return"a"==t.tagName.toLowerCase()?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),L._toback(this,this.paper),this.paper,this},t.insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode.appendChild(this.node),L._insertafter(this,t,this.paper),this},t.insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),L._insertbefore(this,t,this.paper),this},t.blur=function(t){var e,r,n=this;return 0!=+t?(e=R("filter"),r=R("feGaussianBlur"),n.attrs.blur=t,e.id=L.createUUID(),R(r,{stdDeviation:+t||1.5}),e.appendChild(r),n.paper.defs.appendChild(e),n._blur=e,R(n.node,{filter:"url(#"+e.id+")"})):(n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter")),n},L._engine.circle=function(t,e,r,n){var i=R("circle");t.canvas&&t.canvas.appendChild(i);t=new o(i,t);return t.attrs={cx:e,cy:r,r:n,fill:"none",stroke:"#000"},t.type="circle",R(i,t.attrs),t},L._engine.rect=function(t,e,r,n,i,a){var s=R("rect");t.canvas&&t.canvas.appendChild(s);t=new o(s,t);return t.attrs={x:e,y:r,width:n,height:i,r:a||0,rx:a||0,ry:a||0,fill:"none",stroke:"#000"},t.type="rect",R(s,t.attrs),t},L._engine.ellipse=function(t,e,r,n,i){var a=R("ellipse");t.canvas&&t.canvas.appendChild(a);t=new o(a,t);return t.attrs={cx:e,cy:r,rx:n,ry:i,fill:"none",stroke:"#000"},t.type="ellipse",R(a,t.attrs),t},L._engine.image=function(t,e,r,n,i,a){var s=R("image");R(s,{x:r,y:n,width:i,height:a,preserveAspectRatio:"none"}),s.setAttributeNS(w,"href",e),t.canvas&&t.canvas.appendChild(s);t=new o(s,t);return t.attrs={x:r,y:n,width:i,height:a,src:e},t.type="image",t},L._engine.text=function(t,e,r,n){var i=R("text");t.canvas&&t.canvas.appendChild(i);t=new o(i,t);return t.attrs={x:e,y:r,"text-anchor":"middle",text:n,font:L._availableAttrs.font,stroke:"none",fill:"#000"},t.type="text",f(t,t.attrs),t},L._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},L._engine.create=function(){var t=L._getContainer.apply(0,arguments),e=t&&t.container,r=t.x,n=t.y,i=t.width,a=t.height;if(!e)throw new Error("SVG container not found.");var s,o=R("svg"),t="overflow:hidden;",r=r||0,n=n||0;return R(o,{height:a=a||342,version:1.1,width:i=i||512,xmlns:"http://www.w3.org/2000/svg"}),1==e?(o.style.cssText=t+"position:absolute;left:"+r+"px;top:"+n+"px",L._g.doc.body.appendChild(o),s=1):(o.style.cssText=t+"position:relative",e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o)),(e=new L._Paper).width=i,e.height=a,e.canvas=o,e.clear(),e._left=e._top=0,s&&(e.renderfix=function(){}),e.renderfix(),e},L._engine.setViewBox=function(t,e,r,n,i){p("raphael.setViewBox",this,this._viewBox,[t,e,r,n,i]);var a,s=v(r/this.width,n/this.height),o=this.top,c=i?"xMidYMid meet":"xMinYMin",h=null==t?(this._vbSize&&(s=1),delete this._vbSize,"0 0 "+this.width+" "+this.height):(this._vbSize=s,t+" "+e+" "+r+" "+n);for(R(this.canvas,{viewBox:h,preserveAspectRatio:c});s&&o;)a="stroke-width"in o.attrs?o.attrs["stroke-width"]:1,o.attr({"stroke-width":a}),o._.dirty=1,o._.dirtyT=1,o=o.prev;return this._viewBox=[t,e,r,n,!!i],this},L.prototype.renderfix=function(){var t=this.canvas,e=t.style;try{r=t.getScreenCTM()||t.createSVGMatrix()}catch(e){r=t.createSVGMatrix()}var t=-r.e%1,r=-r.f%1;(t||r)&&(t&&(this._left=(this._left+t)%1,e.left=this._left+"px"),r&&(this._top=(this._top+r)%1,e.top=this._top+"px"))},L.prototype.clear=function(){L.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=R("desc")).appendChild(L._g.doc.createTextNode("Created with Raphaël "+L.version)),t.appendChild(this.desc),t.appendChild(this.defs=R("defs"))},L.prototype.remove=function(){for(var t in p("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?L._removedFactory(t):null};var e,r=L.st;for(e in t)t[E](e)&&!r[E](e)&&(r[e]=function(r){return function(){var e=arguments;return this.forEach(function(t){t[r].apply(t,e)})}}(e))}}(),function(){if(L.vml){function g(t,e,r){var n=L.matrix();return n.rotate(-t,.5,.5),{dx:n.x(e,r),dy:n.y(e,r)}}function v(t,e,r,n,i,a){var s,o=t._,c=t.matrix,h=o.fillpos,u=t.node,l=u.style,p=1,f="",d=I/e,t=I/r;l.visibility="hidden",e&&r&&(u.coordsize=x(d)+B+x(t),l.rotation=a*(e*r<0?-1:1),a&&(n=(s=g(a,n,i)).dx,i=s.dy),e<0&&(f+="x"),r<0&&(f+=" y")&&(p=-1),l.flip=f,u.coordorigin=n*-d+B+i*-t,(h||o.fillsize)&&(t=(t=u.getElementsByTagName("fill"))&&t[0],u.removeChild(t),h&&(s=g(a,c.x(h[0],h[1]),c.y(h[0],h[1])),t.position=s.dx*p+B+s.dy*p),o.fillsize&&(t.size=o.fillsize[0]*x(e)+B+o.fillsize[1]*x(r)),u.appendChild(t)),l.visibility="visible")}var b="hasOwnProperty",_=String,w=parseFloat,E=Math,C=E.round,k=E.max,S=E.min,x=E.abs,A=/[, ]+/,p=L.eve,B=" ",N="",O={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},T=/([clmz]),?([^clmz]*)/gi,n=/ progid:\S+Blur\([^\)]+\)/g,R=/-?[^,\s-]+/g,h="position:absolute;left:0;top:0;width:1px;height:1px",I=21600,M={path:1,rect:1,image:1},F={circle:1,ellipse:1};L.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};function D(t,e,r){for(var n=_(e).toLowerCase().split("-"),r=r?"end":"start",i=n.length,a="classic",s="medium",o="medium";i--;)switch(n[i]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=n[i];break;case"wide":case"narrow":o=n[i];break;case"long":case"short":s=n[i]}t=t.node.getElementsByTagName("stroke")[0];t[r+"arrow"]=a,t[r+"arrowlength"]=s,t[r+"arrowwidth"]=o}function f(t,e){t.attrs=t.attrs||{};var r,n,i,a,s,o,c,h=t.node,u=t.attrs,l=h.style,p=M[t.type]&&(e.x!=u.x||e.y!=u.y||e.width!=u.width||e.height!=u.height||e.cx!=u.cx||e.cy!=u.cy||e.rx!=u.rx||e.ry!=u.ry||e.r!=u.r),f=F[t.type]&&(u.cx!=e.cx||u.cy!=e.cy||u.r!=e.r||u.rx!=e.rx||u.ry!=e.ry),d=t;for(r in e)e[b](r)&&(u[r]=e[r]);if(p&&(u.path=L._getPath[t.type](t),t._.dirty=1),e.href&&(h.href=e.href),e.title&&(h.title=e.title),e.target&&(h.target=e.target),e.cursor&&(l.cursor=e.cursor),"blur"in e&&t.blur(e.blur),(e.path&&"path"==t.type||p)&&(h.path=function(t){var e=/[ahqstv]/gi,r=L._pathToAbsolute;if(_(t).match(e)&&(r=L._path2curve),e=/[clmz]/g,r==L._pathToAbsolute&&!_(t).match(e)){var n=_(t).replace(T,function(t,e,r){var n=[],i="m"==e.toLowerCase(),a=O[e];return r.replace(R,function(t){i&&2==n.length&&(a+=n+O["m"==e?"l":"L"],n=[]),n.push(C(t*I))}),a+n});return n}for(var i,a,s=r(t),n=[],o=0,c=s.length;o<c;o++){i=s[o],"z"==(a=s[o][0].toLowerCase())&&(a="x");for(var h=1,u=i.length;h<u;h++)a+=C(i[h]*I)+(h!=u-1?",":N);n.push(a)}return n.join(B)}(~_(u.path).toLowerCase().indexOf("r")?L._pathToAbsolute(u.path):u.path),"image"==t.type&&(t._.fillpos=[u.x,u.y],t._.fillsize=[u.width,u.height],v(t,1,1,0,0,0))),"transform"in e&&t.transform(e.transform),f&&(a=+u.cx,n=+u.cy,f=+u.rx||+u.r||0,i=+u.ry||+u.r||0,h.path=L.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",C((a-f)*I),C((n-i)*I),C((a+f)*I),C((n+i)*I),C(a*I)),t._.dirty=1),"clip-rect"in e&&(4==(n=_(e["clip-rect"]).split(A)).length&&(n[2]=+n[2]+ +n[0],n[3]=+n[3]+ +n[1],(a=(i=h.clipRect||L._g.doc.createElement("div")).style).clip=L.format("rect({1}px {2}px {3}px {0}px)",n),h.clipRect||(a.position="absolute",a.top=0,a.left=0,a.width=t.paper.width+"px",a.height=t.paper.height+"px",h.parentNode.insertBefore(i,h),i.appendChild(h),h.clipRect=i)),e["clip-rect"]||h.clipRect&&(h.clipRect.style.clip="auto")),t.textpath&&(o=t.textpath.style,e.font&&(o.font=e.font),e["font-family"]&&(o.fontFamily='"'+e["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,N)+'"'),e["font-size"]&&(o.fontSize=e["font-size"]),e["font-weight"]&&(o.fontWeight=e["font-weight"]),e["font-style"]&&(o.fontStyle=e["font-style"])),"arrow-start"in e&&D(d,e["arrow-start"]),"arrow-end"in e&&D(d,e["arrow-end"],1),null==e.opacity&&null==e["stroke-width"]&&null==e.fill&&null==e.src&&null==e.stroke&&null==e["stroke-width"]&&null==e["stroke-opacity"]&&null==e["fill-opacity"]&&null==e["stroke-dasharray"]&&null==e["stroke-miterlimit"]&&null==e["stroke-linejoin"]&&null==e["stroke-linecap"]||((o=(o=h.getElementsByTagName("fill"))&&o[0])||(o=P("fill")),"image"==t.type&&e.src&&(o.src=e.src),e.fill&&(o.on=!0),null!=o.on&&"none"!=e.fill&&null!==e.fill||(o.on=!1),o.on&&e.fill&&((g=_(e.fill).match(L._ISURL))?(o.parentNode==h&&h.removeChild(o),o.rotate=!0,o.src=g[1],o.type="tile",s=t.getBBox(1),o.position=s.x+B+s.y,t._.fillpos=[s.x,s.y],L._preload(g[1],function(){t._.fillsize=[this.offsetWidth,this.offsetHeight]})):(o.color=L.getRGB(e.fill).hex,o.src=N,o.type="solid",L.getRGB(e.fill).error&&(d.type in{circle:1,ellipse:1}||"r"!=_(e.fill).charAt())&&function(t,e,r){t.attrs=t.attrs||{};var n=(t.attrs,Math.pow),i="linear",a=".5 .5";if(t.attrs.gradient=e,e=(e=_(e).replace(L._radial_gradient,function(t,e,r){return i="radial",e&&r&&(e=w(e),r=w(r),n(e-.5,2)+n(r-.5,2)>.25&&(r=E.sqrt(.25-n(e-.5,2))*(2*(r>.5)-1)+.5),a=e+B+r),N})).split(/\s*\-\s*/),"linear"==i){var s=e.shift();if(s=-w(s),isNaN(s))return null}var o=L._parseDots(e);if(!o)return null;if(t=t.shape||t.node,o.length){t.removeChild(r),r.on=!0,r.method="none",r.color=o[0].color,r.color2=o[o.length-1].color;for(var c=[],h=0,u=o.length;h<u;h++)o[h].offset&&c.push(o[h].offset+B+o[h].color);r.colors=c.length?c.join():"0% "+r.color,"radial"==i?(r.type="gradientTitle",r.focus="100%",r.focussize="0 0",r.focusposition=a,r.angle=0):(r.type="gradient",r.angle=(270-s)%360),t.appendChild(r)}return 1}(d,e.fill,o)&&(u.fill="none",u.gradient=e.fill,o.rotate=!1))),("fill-opacity"in e||"opacity"in e)&&(c=((+u["fill-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+L.getRGB(e.fill).o+1||2)-1),c=S(k(c,0),1),o.opacity=c,o.src&&(o.color="none")),h.appendChild(o),s=!1,(g=h.getElementsByTagName("stroke")&&h.getElementsByTagName("stroke")[0])||(s=g=P("stroke")),(e.stroke&&"none"!=e.stroke||e["stroke-width"]||null!=e["stroke-opacity"]||e["stroke-dasharray"]||e["stroke-miterlimit"]||e["stroke-linejoin"]||e["stroke-linecap"])&&(g.on=!0),"none"!=e.stroke&&null!==e.stroke&&null!=g.on&&0!=e.stroke&&0!=e["stroke-width"]||(g.on=!1),o=L.getRGB(e.stroke),g.on&&e.stroke&&(g.color=o.hex),c=((+u["stroke-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+o.o+1||2)-1),o=.75*(w(e["stroke-width"])||1),c=S(k(c,0),1),null==e["stroke-width"]&&(o=u["stroke-width"]),e["stroke-width"]&&(g.weight=o),o&&o<1&&(c*=o)&&(g.weight=1),g.opacity=c,e["stroke-linejoin"]&&(g.joinstyle=e["stroke-linejoin"]||"miter"),g.miterlimit=e["stroke-miterlimit"]||8,e["stroke-linecap"]&&(g.endcap="butt"==e["stroke-linecap"]?"flat":"square"==e["stroke-linecap"]?"square":"round"),"stroke-dasharray"in e&&(g.dashstyle=(c={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"})[b](e["stroke-dasharray"])?c[e["stroke-dasharray"]]:N),s&&h.appendChild(g)),"text"==d.type){d.paper.canvas.style.display=N;var h=d.paper.span,g=u.font&&u.font.match(/\d+(?:\.\d*)?(?=px)/),l=h.style;u.font&&(l.font=u.font),u["font-family"]&&(l.fontFamily=u["font-family"]),u["font-weight"]&&(l.fontWeight=u["font-weight"]),u["font-style"]&&(l.fontStyle=u["font-style"]),g=w(u["font-size"]||g&&g[0])||10,l.fontSize=100*g+"px",d.textpath.string&&(h.innerHTML=_(d.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));h=h.getBoundingClientRect();d.W=u.w=(h.right-h.left)/100,d.H=u.h=(h.bottom-h.top)/100,d.X=u.x,d.Y=u.y+d.H/2,("x"in e||"y"in e)&&(d.path.v=L.format("m{0},{1}l{2},{1}",C(u.x*I),C(u.y*I),C(u.x*I)+1));for(var x=["x","y","text","font","font-family","font-weight","font-style","font-size"],y=0,m=x.length;y<m;y++)if(x[y]in e){d._.dirty=1;break}switch(u["text-anchor"]){case"start":d.textpath.style["v-text-align"]="left",d.bbx=d.W/2;break;case"end":d.textpath.style["v-text-align"]="right",d.bbx=-d.W/2;break;default:d.textpath.style["v-text-align"]="center",d.bbx=0}d.textpath.style["v-text-kern"]=!0}}function u(t,e){(this[0]=this.node=t).raphael=!0,this.id=L._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=L.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},e.bottom||(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null}var P,t=L.el;(u.prototype=t).constructor=u,t.transform=function(t){if(null==t)return this._.transform;var e,r=this.paper._viewBoxShift,n=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:N;r&&(e=t=_(t).replace(/\.{3}|\u2026/g,this._.transform||N)),L._extractTransform(this,n+t);var i=this.matrix.clone(),a=this.skew,s=this.node,o=~_(this.attrs.fill).indexOf("-"),r=!_(this.attrs.fill).indexOf("url(");return i.translate(1,1),r||o||"image"==this.type?(a.matrix="1 0 0 1",a.offset="0 0",n=i.split(),o&&n.noRotation||!n.isSimple?(s.style.filter=i.toFilter(),t=this.getBBox(),r=this.getBBox(1),o=t.x-r.x,r=t.y-r.y,s.coordorigin=o*-I+B+r*-I,v(this,1,1,o,r,0)):(s.style.filter=N,v(this,n.scalex,n.scaley,n.dx,n.dy,n.rotate))):(s.style.filter=N,a.matrix=_(i),a.offset=i.offset()),e&&(this._.transform=e),this},t.rotate=function(t,e,r){return this.removed?this:null!=t?((t=_(t).split(A)).length-1&&(e=w(t[1]),r=w(t[2])),t=w(t[0]),null!=(e=null==r?r:e)&&null!=r||(e=(n=this.getBBox(1)).x+n.width/2,r=n.y+n.height/2),this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,r]])),this):void 0;var n},t.translate=function(t,e){return this.removed||((t=_(t).split(A)).length-1&&(e=w(t[1])),t=w(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]]))),this},t.scale=function(t,e,r,n){return this.removed||((t=_(t).split(A)).length-1&&(e=w(t[1]),r=w(t[2]),n=w(t[3]),isNaN(r)&&(r=null),isNaN(n)&&(n=null)),t=w(t[0]),null==e&&(e=t),null!=(r=null==n?n:r)&&null!=n||(i=this.getBBox(1)),r=null==r?i.x+i.width/2:r,n=null==n?i.y+i.height/2:n,this.transform(this._.transform.concat([["s",t,e,r,n]])),this._.dirtyT=1),this;var i},t.hide=function(){return this.removed||(this.node.style.display="none"),this},t.show=function(){return this.removed||(this.node.style.display=N),this},t._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},t.remove=function(){if(!this.removed&&this.node.parentNode){for(var t in this.paper.__set__&&this.paper.__set__.exclude(this),L.eve.unbind("raphael.*.*."+this.id),L._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[t]="function"==typeof this[t]?L._removedFactory(t):null;this.removed=!0}},t.attr=function(t,e){if(this.removed)return this;if(null==t){var r,n={};for(r in this.attrs)this.attrs[b](r)&&(n[r]=this.attrs[r]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==e&&L.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var i=t.split(A),a={},s=0,o=i.length;s<o;s++)(t=i[s])in this.attrs?a[t]=this.attrs[t]:L.is(this.paper.customAttributes[t],"function")?a[t]=this.paper.customAttributes[t].def:a[t]=L._availableAttrs[t];return o-1?a:a[i[0]]}if(this.attrs&&null==e&&L.is(t,"array")){for(a={},s=0,o=t.length;s<o;s++)a[t[s]]=this.attr(t[s]);return a}var c,h;for(h in null!=e&&((c={})[t]=e),c=null==e&&L.is(t,"object")?t:c)p("raphael.attr."+h+"."+this.id,this,c[h]);if(c){for(h in this.paper.customAttributes)if(this.paper.customAttributes[b](h)&&c[b](h)&&L.is(this.paper.customAttributes[h],"function")){var u,l=this.paper.customAttributes[h].apply(this,[].concat(c[h]));for(u in this.attrs[h]=c[h],l)l[b](u)&&(c[u]=l[u])}c.text&&"text"==this.type&&(this.textpath.string=c.text),f(this,c)}return this},t.toFront=function(){return this.removed||this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&L._tofront(this,this.paper),this},t.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),L._toback(this,this.paper)),this},t.insertAfter=function(t){return this.removed||((t=t.constructor==L.st.constructor?t[t.length-1]:t).node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),L._insertafter(this,t,this.paper)),this},t.insertBefore=function(t){return this.removed||((t=t.constructor==L.st.constructor?t[0]:t).node.parentNode.insertBefore(this.node,t.node),L._insertbefore(this,t,this.paper)),this},t.blur=function(t){var e=this.node.runtimeStyle,r=(r=e.filter).replace(n,N);return 0!=+t?(this.attrs.blur=t,e.filter=r+B+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+t||1.5)+")",e.margin=L.format("-{0}px 0 0 -{0}px",C(+t||1.5))):(e.filter=r,e.margin=0,delete this.attrs.blur),this},L._engine.path=function(t,e){var r=P("shape");r.style.cssText=h,r.coordsize=I+B+I,r.coordorigin=e.coordorigin;var n=new u(r,e),i={fill:"none",stroke:"#000"};t&&(i.path=t),n.type="path",n.path=[],n.Path=N,f(n,i),e.canvas.appendChild(r);e=P("skew");return e.on=!0,r.appendChild(e),n.skew=e,n.transform(N),n},L._engine.rect=function(t,e,r,n,i,a){var s=L._rectPath(e,r,n,i,a),o=t.path(s),t=o.attrs;return o.X=t.x=e,o.Y=t.y=r,o.W=t.width=n,o.H=t.height=i,t.r=a,t.path=s,o.type="rect",o},L._engine.ellipse=function(t,e,r,n,i){t=t.path();return t.attrs,t.X=e-n,t.Y=r-i,t.W=2*n,t.H=2*i,t.type="ellipse",f(t,{cx:e,cy:r,rx:n,ry:i}),t},L._engine.circle=function(t,e,r,n){t=t.path();return t.attrs,t.X=e-n,t.Y=r-n,t.W=t.H=2*n,t.type="circle",f(t,{cx:e,cy:r,r:n}),t},L._engine.image=function(t,e,r,n,i,a){var s=L._rectPath(r,n,i,a),o=t.path(s).attr({stroke:"none"}),c=o.attrs,h=o.node,t=h.getElementsByTagName("fill")[0];return c.src=e,o.X=c.x=r,o.Y=c.y=n,o.W=c.width=i,o.H=c.height=a,c.path=s,o.type="image",t.parentNode==h&&h.removeChild(t),t.rotate=!0,t.src=e,t.type="tile",o._.fillpos=[r,n],o._.fillsize=[i,a],h.appendChild(t),v(o,1,1,0,0,0),o},L._engine.text=function(t,e,r,n){var i=P("shape"),a=P("path"),s=P("textpath");r=r||0,n=n||"",a.v=L.format("m{0},{1}l{2},{1}",C((e=e||0)*I),C(r*I),C(e*I)+1),a.textpathok=!0,s.string=_(n),s.on=!0,i.style.cssText=h,i.coordsize=I+B+I,i.coordorigin="0 0";var o=new u(i,t),c={fill:"#000",stroke:"none",font:L._availableAttrs.font,text:n};o.shape=i,o.path=a,o.textpath=s,o.type="text",o.attrs.text=_(n),o.attrs.x=e,o.attrs.y=r,o.attrs.w=1,o.attrs.h=1,f(o,c),i.appendChild(s),i.appendChild(a),t.canvas.appendChild(i);t=P("skew");return t.on=!0,i.appendChild(t),o.skew=t,o.transform(N),o},L._engine.setSize=function(t,e){var r=this.canvas.style;return(this.width=t)==+t&&(t+="px"),(this.height=e)==+e&&(e+="px"),r.width=t,r.height=e,r.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&L._engine.setViewBox.apply(this,this._viewBox),this},L._engine.setViewBox=function(t,e,r,n,i){L.eve("raphael.setViewBox",this,this._viewBox,[t,e,r,n,i]);var a,s=this.width,o=this.height,c=1/k(r/s,n/o);return i&&(r*(a=o/n)<s&&(t-=(s-r*a)/2/a),n*(s=s/r)<o&&(e-=(o-n*s)/2/s)),this._viewBox=[t,e,r,n,!!i],this._viewBoxShift={dx:-t,dy:-e,scale:c},this.forEach(function(t){t.transform("...")}),this},L._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{e.namespaces.rvml||e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),P=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){P=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},L._engine.initWin(L._g.win),L._engine.create=function(){var t=L._getContainer.apply(0,arguments),e=t.container,r=t.height,n=t.width,i=t.x,a=t.y;if(!e)throw new Error("VML container not found.");var s=new L._Paper,o=s.canvas=L._g.doc.createElement("div"),t=o.style,i=i||0,a=a||0,n=n||512,r=r||342;return(s.width=n)==+n&&(n+="px"),(s.height=r)==+r&&(r+="px"),s.coordsize=216e5+B+216e5,s.coordorigin="0 0",s.span=L._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",o.appendChild(s.span),t.cssText=L.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",n,r),1==e?(L._g.doc.body.appendChild(o),t.left=i+"px",t.top=a+"px",t.position="absolute"):e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o),s.renderfix=function(){},s},L.prototype.clear=function(){L.eve("raphael.clear",this),this.canvas.innerHTML=N,this.span=L._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},L.prototype.remove=function(){for(var t in L.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?L._removedFactory(t):null;return!0};var e,r=L.st;for(e in t)t[b](e)&&!r[b](e)&&(r[e]=function(r){return function(){var e=arguments;return this.forEach(function(t){t[r].apply(t,e)})}}(e))}}(),f.was?d.win.Raphael=L:Raphael=L,L}),(define="function"!=typeof define?require("amdefine")(module):define)("regulex",["./Kit","./NFA","./RegExp","./parse","./visualize","./libs/raphael"],function(t,e,r,n,i,a){return{Kit:t,NFA:e,RegExp:r,parse:n,Raphael:a,visualize:i}});